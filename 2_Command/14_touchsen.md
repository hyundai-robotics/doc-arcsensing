# 2.14 touchsen

- 설명
    
    ```touchsen``` 문은 와이어 터치센싱을 수행하는 명령어 입니다. 퀵 오픈창으로 센싱타입 및 센싱조건을 설정할 수 있습니다. 터치센싱 하려는 위치로 move를 수행하고 touchsen문을 수행하면 해당 위치에서 센싱타입 및 조건에 맞추어 자동으로 터치센싱 합니다.


- 문법
  
    - ```touchsen``` cnd=<조건번호>, crd=<좌표계>, dir=<방향>, pose=<저장할 포즈>
    - ```touchsen``` cnd=<조건번호>, crd=<좌표계>, dir=<방향>, angle=<탐색각도>, pose=<저장할 포즈>
    - ```touchsen``` cnd=<조건번호>, crd=<좌표계>, dir=<방향>, lift_up=<들어올릴 양>, pose=<저장할 포즈>, gap=<butt gap 변수>
    - ```touchsen``` cnd=<조건번호>, crd=<좌표계>, dir=<방향>, mpose=<마스터모드 저장할 기준포즈>, mshift=<양산모드 계산된 쉬프트 변수>


- 파라미터
  
   ① 조건번호
     - 내용 : 터치센싱 조건 번호 
     - 범위 : 1 ~ 8
   
   ② 방향 
     - 내용 : 터치센싱 방향, 센싱타입별 지원 방향이 상이함.
     - 범위 : +x, [+x,-z], [+ty, +tz]

   ③ 저장할 포즈
     - 내용 : 포즈번호를 지정합니다.
     - 범위 : 사용자가 job에 정의한 로컬/전역변수

   ④ Butt gap 변수
     - 내용 : Butt/VGroove 타입에서 터치센싱으로 측정한 gap이 저장될 변수
     - 범위 : 사용자가 job에 정의한 로컬/전역변수
     
   ⑤ 센싱각도
     - 내용 : 베이스, 툴, 툴프로젝션 좌표계에 대한 축으로 모든 센싱방향을 회전.
     - 범위 : Y30, Y-30, X30, X-30, TL30, TL-30, TY30, TY-30
     
   ⑥ mpose와 mshift
     - 내용 : 포즈와 시프트 변수로 마스터모드 기능 사용시 사용, 마스터모드에서는 해당번호의 포즈에 센싱결과를 저장하며, 실행모드에서는  시프트변수에  센싱하여 측정된 포즈의 마스터모드 대비 시프트값이 계산되어 저장됩니다.
     - 범위 : 사용자가 job에 정의한 로컬/전역변수
  
</br>  

- 사용 예
```python
  var var1=0      # butt 작업물 센싱시 측정된 gap을 저장할 변수를 선언한다.
  var P10=cpo()   # 포즈변수 P10을 선언하고 현재포즈를 저장해둔다.
  touchsen cnd=2, crd="tool", dir=[+y], lift_up=3, pose=P10, gap=var1
  # 2번 조건, 툴좌표계 방향, 바닥센싱 후3mm 상승, 갭은 var1변수에 저장
  touchsen cnd=1, crd="tool", dir=[tf, td], pose=P10, 0
  # 1번 조건, 툴프로젝션 방향, 2점 터치
  touchsen cnd=1, crd="base", dir=[+x,-y,-z], pose=P10, 0     
  # 1번 조건, 베이스좌표 방향, 3점 터치
```

