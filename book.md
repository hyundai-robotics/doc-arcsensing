# Hi6 로봇제어기 기능설명서 - 아크 용접

이 매뉴얼은 8개의 장으로 이루어져 있습니다.

1장은 Arc 용접 로봇을 처음 사용할 때 필요한 설정, 기본 교시 방법과 편의 기능에 대해 설명합니다.

2장은 다양한 Arc 용접 관련 명령어의 소개와 간단한 설정 방법에 대해 소개합니다. 이 장을 통해 당사 Arc 용접 로봇이 지원하는 기본 기능을 한 눈에 볼 수 있습니다.

3장은 2장에서 소개한 일부 명령어들의 세부 설정을 위한 Quick Open 기능에 대해 소개합니다. Arc 용접 로봇 사용 시 필수로 설정해야 하는 Arc 용접조건 편집 방법과 응용 기능 명령어의 편집 방법에 대해 설명하고 있습니다.

4장은 Arc 용접기 설정 방법에 대해 소개하고 있습니다. 사용하고자 하는 용접기를 선택하는 방법과 용접기별 설정해야 하는 항목에 대한 소개를 담고 있습니다.

5장은 Arc 용접 조건 편집 방법에 대해 설명합니다. 용접 시 필수로 설정해야 할 전류, 전압, 용접 모드, 가스 예/후출 등에 대한 설정 방법이 소개되고 있습니다. 용접 조건은 용접기마다 다르기 때문에 5장에서는 사용하고자 하는 용접기에 대한 내용만 숙지하여도 무방합니다.

6장은 위빙에 대한 기능 설명과 세부 설정 방법에 대해 설명합니다. 위빙 동작을 사용하지 않을 경우 생략하여도 무방합니다.

7장은 Arc 용접기가 용접 중에 보내는 데이터를 활용하는 기능에 대해 소개하고 있습니다. 용접 중에 용접기가 보내주는 데이터를 실시간으로 모니터링 할 수 있는 방법과 그 데이터를 파일로 저장하는 기능 등을 소개하고 있습니다. 또한 저장된 이전 데이터를 그래프로 그리고 편리하게 확인할 수 있는 기능과 용접 품질을 수치화 하는 기능을 설명하고 있습니다.

8장은 Arc 용접 응용 기능으로 특수한 상황에서 유용하게 사용될 수 있는 기능에 대해 소개를 합니다. 용접 대상물의 용접선이 균일하지 않거나, 용접 대상물 위치에 오차가 발생하여 용접 품질에 문제가 있을 경우 적용 가능한 기능들의 간단한 소개를 하고 있습니다.

당사 Arc 용접 로봇을 처음 사용할 경우 1~5장은 필독을 권장하고, 6~8장은 필요한 기능들을 선택적으로 읽어보는 것을 권장합니다.


<br>
# 1. Arc용접 기본사항# 1.1 개요

다음 그림과 같은 Arc용접 작업을 티칭 합니다.


<p align="center">
 <img src="../../_assets/1_1.png" width="60%"></img>
 <em><p align="center">그림 1.1 기본 Arc 용접 티칭</p></em>
</p>

</br>

(1)	제어기 전면부의 전원 스위치를 켭니다.

(2)	티치펜던트의 [모드] 스위치를 수동모드로 선택합니다.

(3)	티치펜던트의 [프로그램]을 누른 후 프로그램 번호를 입력합니다.

(4)	여기까지 진행하면 티치펜던트 화면은 아래 그림과 같이 표시됩니다.

<p align="center">
 <img src="../../_assets/1_2.png" width="70%"></img>
 <em><p align="center">그림 1.2 신규 프로그램 번호가 선택된 화면</p></em>
</p>

</br>

(5)	티치펜던트의 [Motor On] 버튼을 눌러 로봇의 모터에 전원을 투입합니다.

(6)	축 조작키를 사용해 로봇의 토치를 스텝1의 위치로 이동합니다.

(7)	[기록조건] 키를 누른 후 원하는 보간 종류, 속도, accuracy, 툴 번호를 지정합니다.  
            
- 방향키를 이용하여 원하는 항목으로 이동 후 값을 설정하고 [ENTER] 키를 누르면 설정이 저장됩니다.
- 툴 번호는 [툴] 키를 누른 후 원하는 툴 번호를 입력합니다. ([툴]키는 [SHIFT] + [좌표계]키를 눌러 선택합니다.) 


<p align="center">
 <img src="../../_assets/1_3.png" width="40%"></img>
 <em><p align="center">그림 1.3 기록조건 표시내용</p></em>
</p>

</br>

- [기록]키를 누르면 아래 그림과 같이 스텝이 기록됩니다.

<p align="center">
 <img src="../../_assets/1_4.png" width="70%"></img>
 <em><p align="center">그림 1.4 스텝 기록 화면 (1)</p></em>
</p>

</br>

(8)	스텝2~4에 대해서도 (5) ~ (7)의 과정을 반복합니다. 

 

<p align="center">
 <img src="../../_assets/1_5.png" width="70%"></img>
 <em><p align="center">그림 1.5 스텝 기록 화면 (2)</p></em>
</p>

(9) 용접구간이 스텝2 ~ 스텝3이므로, 스텝2로 커서를 이동합니다. 

- [사용자키] 를 눌러 화면 하단에 등록된 사용자키를 나타나게 합니다.
- 위빙 사용 시 [WEAVON]키(기본값 [F4])를 누릅니다. 조건번호를 입력하고 [ENTER]키를 누릅니다. 
- 같은 방법으로 [ARCON]키를 누릅니다. 조건번호를 입력하고 [ENTER]키를 누릅니다.
      (Arc용접 조건설정은 ‘5장 Arc용접 조건 편집’을 참고하십시오.)
 

(10) Arc용접이 종료되는 스텝인 스텝3으로 커서를 이동합니다.
 
- 다시 [사용자키]를 눌러 화면 하단에 등록된 사용자키를 나타나게 한 후 [ARCOF]키를 눌러 명령을 입력합니다.
- 같은 방법으로 [WEAVOF]키를 눌러 WEAVOF 명령문을 입력합니다. 

(11) 스텝3의 속도를 원하는 용접속도로 수정합니다. (Ex. 12mm/s)

(12) 마지막으로 프로그램을 종료하는 END 명령을 입력합니다.
『명령입력』 → 『FLOW제어』 → 『END』키를 누르면 END 명령이 입력됩니다.

<p align="center">
 <img src="../../_assets/1_6.png" width="70%"></img>
 <em><p align="center">그림 1.6 티칭이 완료된 화면</p></em>
</p># 1.2 Arc 용접기능 설정# 1.2.1 Arc 용접 용도 설정

(1)	로봇의 종류에 따라 Arc용접기능이 활성화 되어있지 않는 경우가 있습니다. 이때는 다음의 과정에 따라 Arc용접기능을 설정하십시오. (Arc용접 기능 설정은 엔지니어 권한이 필요합니다.)

(2)	수동모드에서 『시스템』 → 『5: 초기화』 → 『3: 용도설정』을 누르면 [그림 1-7]과 같이 로봇의 용도, 사용하고자 하는 용접기, 사용자키 및 입출력신호 할당을 설정할 수 있는 대화상자가 나타납니다.

(3)	Arc 용접은 사용하는 용접기와의 인터페이스 방식에 따라서 아날로그 방식과 디지털 방식으로 나누어집니다.

(4)	[그림 1.7]은 Arc 용접 설정 유호로, 『용접기 정보』에서 확인한 용접기 번호를 1번('효성')으로 선택한 경우입니다. 이 화면에서 『용접기 설정』를 누르면 사용하고자 하는 용접기의 조건을 설정하는 대화상자로 진입합니다

(5)	용접기 특성 파일의 자세한 설정은 [[4장 Arc용접기 설정](../../4_Setting/)]을 참고하시기 바랍니다.


<p align="center">
 <img src="../../_assets/1_7.png" width="70%"></img>
 <em><p align="center">그림 1.7 용도설정 대화상자</p></em>
</p># 1.2.2 Arc 용접 각종 신호 및 기능 설정

수동모드 화면에서 『시스템』 → 『4: 응용 파라미터』 → 『2: 아크용접』을 누르면 다음 화면과 같이 Arc용접의 응용을 위한 각종 조건들을 설정할 수 있는 화면이 나타납니다.

 

<p align="center">
 <img src="../../_assets/1_8.png" width="70%"></img>
 <em><p align="center">그림 1.8 Arc용접 응용조건 대화상자</p></em>
</p>
 

각 항목별 내용은 다음과 같습니다.

(1)	Inching속도 설정 : 저속[1 ~ 50] %, 고속[10~100] %  
Inching 속도 설정은 [SHIFT]+[2]\(인칭), [SHIFT]+[3]\(역인칭)키를 사용한 와이어의 인칭 및 역인칭 실행 시 와이어 송급 속도입니다. 저속 및 고속(3초 이상 키를 누르고 있을 때) 동작 시 송급 속도를 설정합니다.

(2)	[GUN]키 상태 출력신호할당 : [일반 출력신호 할당]
티치펜던트 [GUN]키의 현재 상태를 출력하기 위한 신호를 설정합니다.

(3)	[GUN]키 설정 입력신호할당 : [일반 입력신호 할당]  
외부에서 [GUN]키의 on/off를 설정할 수 있는 입력신호를 할당합니다. 해당 신호가 할당되면 티치펜던트의 [GUN]키를 눌러 아크용접 on/off상태를 변경할 수 없습니다. 이 기능을 이용하면 사용자 실수로 [GUN]키를 눌러 용접구간에서 용접을 하지 않는 문제를 방지할 수 있습니다([GUN]키의 LED가 꺼진 상태에서 로봇이 재생되는 경우 Arc 용접 구간에서 용접을 수행하지 않는 ‘Dry Run’상태로 진행). 할당된 신호가 입력되면 [GUN]키의 LED가 off되며 로봇이 재생되는 경우 ‘Dry Run’상태로 작업이 진행됩니다.

(4)	냉각수 상태 입력포트 할당 : [일반 입력신호 할당]  
수냉식 Arc용접 토치를 사용하는 경우 냉각수 순환에 문제 발생 상태를 입력 받기 위한 신호를 설정합니다. 용접 중 본 신호가 입력되면 에러로 판단하여 로봇 기동과 용접 작업을 정지합니다.

(5)	용접기 에러처리: [무효, 정논리, 부논리]  
용접기 에러상태를 입력받는 신호의 사용여부와 논리를 설정합니다.

(10) 용접 와이어 상태 입력 : [무효, 정논리, 부논리]  
용접 와이어 상태를 입력 받는 신호의 사용여부와 논리를 설정합니다.

(6)	가스 압력상태 입력 : [무효, 정논리, 부논리]  
가스 압력상태를 입력 받는 신호의 사용여부와 논리를 설정합니다.

(7)	Arc 용접 전류/전압 변경 자동저장 설정 : [무효, 유효]  
‘Arc용접 전류/전압 변경’대화상자에서 전류와 전압 값을 변경할 경우 그 값을 자동 저장할 것인지 여부를 결정합니다. 자세한 내용은 [[1.3.3 용접 중 전류/전압 변경기능]](../3_Convenient_functions/3_change_current_voltage/README.md)을 참조하십시오.

(8)	고중량 Arc 토치용 진동 저감 기능 설정 : [무효, 용접점, 전 구간]  
고중량 Arc 토치용 사용 시 진동을 줄이는 방법을 설정합니다. 수냉식 토치나 push-pull 토치와 같은 중량이 큰 토치를 사용할 때 발생할 수 있는 진동을 감소시킬 수 있습니다. ‘용접점’으로 설정 시 로봇 작업속도에 큰 변화 없이 용접점 진입구간에서 상당량의 진동을 줄일 수 있습니다. ‘전 구간’으로 설정 시 고중량 Arc 토치용 필터가 반영되어 전 구간에서 진동을 거의 발생하지 않습니다. 하지만, 로봇의 작업속도가 느려질 수 있습니다.

(9)	수동모드 아크용접 설정 : [무효, 유효]  
수동모드에서 스텝 전진을 통해 용접을 가능하게 할 것인지에 대한 설정입니다. ‘유효’로 설정 시 실행단위가 ‘End’로 설정된 상태에서 Arc용접 구간으로 스텝 전진을 하면 용접이 가능합니다. 자세한 내용은 [[1.3.4 수동모드 아크용접]](../3_Convenient_functions/4_manual_mode.md)을 참고하십시오.

(10)	로봇 기동 시 용착 검사 : [검사, 생략]  
로봇이 처음으로 사이클을 시작할 때 와이어 용착 검사를 수행할 것인지 설정합니다. 검사를 수행하는 경우 초반에 0.2초 정도 검사 후 로봇이 이동합니다.

(11) 아크센싱 Cut-off 주파수 
아크센싱 차단주파수를 설정합니다. 자세한 내용은 아크센싱 메뉴얼을 참고하십시오.

(12)	 터치센싱 정지설정
터치센싱이 작업물을 감지할 때 즉시정지 할것인지 일반정지 할것인지 설정합니다. 일반정지시 와이어 휘어짐이 커질경우 즉시정지로 설정하여 사용합니다.
# 1.2.3 충돌센서 신호 설정
아크용접로봇 시스템은 토치의 변형을 방지하기 위해 충돌센서를 사용합니다. 충돌센서는 기본적으로 부논리를 사용하여 센서 케이블의 단선 등이 발생 시 바로 확인할 수 있도록 합니다.

설정 대화상자는 다음과 같습니다. 『시스템』 → 『1: 사용자 환경』 → 『6: 충돌센서』

충돌센서의 설정 항목은 다음과 같습니다.
-	센서처리: 비상정지, 정지
비상정지: 충돌센서 신호 입력 시 로봇이 모터를 off하고 비상 정지 수행
정지: 충돌센서 신호 입력 시 로봇이 모터를 On상태로 유지하고 정지 수행

-	신호논리: 충돌센서 신호의 입력 논리를 설정합니다.
정논리: 센서 미 연결 시 입력 신호가 Off 상태입니다. 충돌센서가 정논리만 지원하는 경우나 충돌 센서를 연결하지 않고 사용하는 아크용접로봇 시스템에서 설정합니다.
부논리: 센시 미 연결 시 입력 신호가 On 상태입니다. 센서 연결선이 끊어지는 경우 충돌센서 신호 입력으로 처리됩니다.

{% hint style="info" %}
[기타 항목] 
시스템의 입력신호 설정 항목에서 충돌 센서를 설정하는 경우 이 신호의 입력을 우선 확인하며 용접기 통신으로 입력되는 충돌 센서 신호 입력은 무시됩니다.
{% endhint %}# 1.3 Arc 용접 편의 기능# 1.3.1 가스 체크, 와이어 인칭(Inching) 및 역인칭(Retract)

Arc 용접장치 중 실드 가스 밸브와 와이어 송급장치(wire feeder)의 모터를 제어하는 기능입니다.
가스 체크 기능은 실드가스를 출력하는 기능입니다.
와이어 인칭 기능은 와이어를 토치 앞쪽으로 송급하는 기능입니다.
와이어 역인칭 기능은 와이어를 되감는 기능입니다.

가스 체크 기능을 이용하여 현재 실드가스 유량을 확인할 수 있습니다. 
인칭 및 역인칭 기능을 이용하면 용접 토치 밖으로 돌출되는 와이어 길이를 조절할 수 있습니다.

조작 방법은 다음과 같습니다.

(1) 가스 체크 기능

 - 단축키: [Shift]+[1]
 - 전용키: 사용자키 ‘GAS CHK’

(2)	인칭 기능

 - 단축키: [Shift]+[2] 
 - 전용키: 사용자키 ‘inching’
 - 인칭 속도: 키를 누르고서 3초 이내는 저속. 3초 이상부터는 고속

(3)	역인칭 기능

 - 단축키: [Shift]+[3]
 - 전용키: 사용자키 ‘retract’
 - 역인칭 속도: 키를 누르고서 3초 이내는 저속. 3초 이상부터는 고속

(4)	인칭 속도 설정

 - 수동설정 화면에서 『시스템』 → 『4: 응용 파라미터』 → 『2: 아크용접』을 선택합니다.
 - Arc 용접 설정메뉴 중에서 『1: Inching 속도: 저속=[---]%, 고속=[---]%』의 값을 원하는 저속 및 고속 값으로 설정합니다. 속도는 최대 인칭속도에 대한 비율(%)로 표시됩니다.
 - 용접기 모델에 따라 인칭속도 변경이 반영되지 않을 수 있습니다.
# 1.3.2 고속 이동 기능

Arc 용접이 포함된 프로그램이 재생될 때 용접 구간에서는 로봇의 이동속도가 매우 느리기 때문에, 로봇의 작업 위치 확인을 위한 시험 운전을 할 때에 그 소요시간이 오래 걸리는 문제가 있습니다. 이를 해결하기 위해 용접 구간을 기록된 속도보다 더 빠르게 고속으로 이동할 수 있는 고속 이동 기능을 제공합니다. 

이 기능은 수동모드의 스텝 전/후진 시에만 동작되도록 제한됩니다.

고속 이동 기능이 실행될 때의 로봇 이동 속도는 조건설정의 『스텝 전/후진시의 최고속』에 제한되지 않습니다. 또한 고속 이동 기능 적용 상태에 상관 없이 용접 구간에서 기능의 설정과 해제가 가능합니다. (예, 용접 구간에서 고속 이동 기능 실행 중 고속 이동 기능 실행 해제 가능)

조작 방법은 다음과 같습니다.

(1) 수동 최고속 스텝 전/후진

 - 단축키: [Shift]+[FWD]/[BWD] 
 - 이동 속도: 수동 최고속

(2)	고속 이동 중 [SHIFT]키 변화 처리

 - 고속 이동 [SHIFT]키 해제: 로봇이 정지 후 티칭 속도로 스텝 전/후진 동작
 - 티칭 속도 스텝 전/후진 중 [SHIFT]키 입력: 로봇 정지 후 수동 최고속 이동


# 1.3.3 용접 중 전류/전압 변경 기능

Arc 용접작업을 티칭할 때 적절한 용접 전류/전압을 찾기 위해서 용접 수행 중 전류/전압을 변경해야 하는 경우 사용하는 기능입니다.

이 기능을 이용하면 용접 중 실시간으로 전류/전압을 변경하여 최적 조건을 찾고 확인된 조건을 바로 용접조건으로 저장하는 것이 가능합니다.

기능의 세부 내용 및 설정 방법은 다음과 같습니다.

(1)	Arc 용접 전류/전압 변경 대화상자 진입

- 자동모드에서 Arc 용접을 수행
- [사용자키]키를 입력하여 하단 사용자키 표시
- Arc 용접 단축키로 되어 있는 경우 [change I, V in arc welding] 키 입력
- 대화상자 진입 완료

(2)	용접 중 전류/전압 조정단위 및 조정 키
    
- 커서 상/하: 용접전류 1[A] 증/감
- [SHIFT] + 커서 상/하: 용접전류 5[A] 증/감
- 커서 우/좌: 용접전압 0.1[V] 증/감
- [SHIFT] + 커서 우/좌: 용접전압 0.5[V] 증/감

(3)	용접 속도 및 위빙 파라미터 조정 키
   
- Speed HI/LOW: 용접 속도 0.1[cm/min] 증/감
- [SHIFT] + Speed HI/LOW: 용접 속도 0.5[A] [cm/min] 증/감
- F1/F2: 위빙 폭(좌) 0.1[mm] 증/감
- [SHIFT] + F1/F2: 위빙 폭(좌) 0.5[mm] 증/감
- F3/F4: 위빙 폭(우) 0.1[mm] 증/감
- [SHIFT] + F3/F4: 위빙 폭(우) 0.5[mm] 증/감
- F5/F6: 위빙 주파수 0.1[Hz] 증/감
- [SHIFT] + F5/F6: 위빙 주파수 0.5[Hz] 증/감

(4)	전류/전압 변경 자동저장 설정 변경

- [시스템]』 → 『4: 응용 파라미터』 → 『2: 아크용접』대화상자 진입
- 14: Arc 용접 전류/전압 변경 자동저장 설정 유효, 무효 저장
- 무효: 사용자가 [기록]키를 이용하여 저장. [ESC]키 입력 시 변경 내용 삭제.
- 유효: 사용자가 값을 변경하는 즉시 용접조건에 저장.
# 1.3.3.1 조작

자동모드에서 Arc 용접 중 사용자키 중 [change I, V in arc welding]키를 누릅니다.

 

그림 1.10 Arc 용접 전류/전압 변경 대화상자(EWM)

대화상자의 항목 별 내용은 다음과 같습니다. 

(1)	전류

 -  조건내용: 현재 사용중인 용접조건의 송급 속도를 나타냅니다.
 -  조정 값: 현재 제어기에서 용접기로 출력하고 있는 송급 속도를 표시합니다.

(2)	실제 용접 전류

 -  조정 값: 디지털 용접기에서 제어기로 송신하고 있는 출력 용접 전류를 표시합니다.

(3)	용접전압 보정

 -  조건내용: 현재 사용중인 용접조건의 본 용접 전압 보정을 나타냅니다.
 -  조정 값: 현재 제어기에서 용접기로 출력하고 있는 용접 전압 보정을 표시합니다.

(4)	위빙 폭

 -  조건내용: 현재 사용중인 용접조건의 본 위빙 폭을 나타냅니다.
 -  조정 값: 사용자가 조작한 위빙폭을 표시합니다.

(5)	위빙 주파수

 -  조건내용: 현재 사용중인 용접조건의 본 위빙 주파수를 나타냅니다.
 -  조정 값: 사용자가 조작한 위빙주파수를 표시합니다.



 
{% hint style="info" %}
\[주의\]  
- 전류/전압 변경은 용접시작조건에만 저장되며, 종료조건에는 저장되지 않습니다.

- ```arcon``` 명령어 형태 중 전류, 전압 값을 별도로 지정한 형태의 명령어인 경우 용접 조건에만 변경내용이 저장됩니다.

예시) ```arcon cnd=1,cur=200,vol=20``` <span style = "color:green"># 용접시작조건 1번에 변경된 전류, 전압이 저장</span>
{% endhint %}# 1.3.4 수동모드 아크용접

일반적으로 Arc 용접은 로봇이 자동/원격 모드로 운행될 경우에만 가능합니다. 수동모드 Arc 용접은 로봇이 수동모드인 경우에도 용접이 가능하도록 지원하는 기능으로 용접 조건 설정 시 다양한 조건으로 용접을 반복할 때 편리하게 사용할 수 있습니다.

수동모드 Arc 용접을 사용하기 위해서는 아래와 같이 설정되어 있어야 합니다.

 (1)	『시스템』 → 『4: 응용 파라미터』 → 『2: 아크용접』 → 『12: 수동모드 아크용접 설정』 → 유효

 (2)	『실행단위』 → End (티칭 펜던트 기본화면 좌측 2번째 매뉴)

 (3)	스텝 전진으로 ```arcon``` 실행(용접 중 ```arcoff``` 전에 스텝 전진이 중단되어 용접이 중단된 상태에서, 다시 스텝 전진을 할 경우 ```arcon```이 실행되지 않기 때문에 다음 교시점으로 용접하지 않고 이동) 
# 1.3.5 고중량 아크토치 진동 저감 기능

본 기능은 소형 로봇에 고중량의 토치(수냉식 토치, push-pull 토치)를 사용할 때 발생할 수 있는 진동을 줄이기 위한 것입니다. 진동을 줄이기 위해 2가지 방법을 제공하며, 각각의 방법은 아래와 같은 장단점이 있습니다. 아래 장단점을 참고하여 상황에 맞게 선택하여 사용할 수 있습니다.

(1)	용접점: 진동의 상당량 감소. 로봇 작업 시간에 영향이 거의 없음.

(2)	전 구간: 진동의 대부분 감소. 로봇 작업 시간이 증가함.

</br>

본 기능은 아래와 같이 설정할 수 있습니다.

-	『시스템』 → 『4: 응용 파라미터』 → 『2: 아크용접』 → 『16: 고중량 토치용 진동 저감 기능 설정』 → ‘무효’, ‘용접점’, ‘전 구간’ 중 택일 
# 1.3.6 Arc 용접 신호 시험 기능

Arc 용접 신호 시험 기능은 용접에 필요한 주요한 신호의 입출력 상태를 테스트하고, 수동으로 용착 해제할 수 있는 기능입니다. 본 기능은 특정 신호의 동작 여부를 확인할 수 있기 때문에 용접기 및 통신의 이상 상태를 점검할 때 유용하게 사용할 수 있습니다.

본 기능을 사용하기 위해서는 티칭 펜던트 기본화면에서 [pane layout]을 눌러 [select]에서 [arc welding]을 선택합니다.
스크롤을 하단으로 움직여 output signal에 진입합니다. 원하는 출력신호를 toggle하여 신호를 on/off 테스트 할 수 있습니다.
'Input Signal'에서는 신호가 동작에 맞게 입력되고 있는지를 확인하여 테스트 할 수 있습니다.

또한 [용착해제]를 눌러 수동으로 용착해제를 명령할 수 있습니다.

 
<p align="center">
 <img src="../../_assets/7_1.png" width="70%"></img>
 <em><p align="center">그림 1.11 Arc 용접 전류/전압 모니터링</p></em>
</p>
# 1.3.7 아크용접 가동정보

Arc 용접을 수행한 가동정보를 모니터링 창을 이용하여 확인하는 기능입니다. 이 기능을 이용하여 아래와 같은 사항을 쉽게 확인하고 관리할 수 있습니다.

(1)	누적된 용접시간과 최종 사이클에서 용접 시간을 확인할 수 있습니다.

(2)	용접 Tip 을 사용시간을 입력하면 사용시간을 지속적으로 모니터링 할 수 있습니다. Tip사용시간이 10% 이하로 남은 경우 경고를 출력합니다. 설정 된 사용시간을 초과하는 경우 다시 경고를 출력합니다.

(3)	용접 시작 시 자동으로 수행된 재시도 횟수와 자동으로 수행된 용착해제 횟수를 확인할 수 있습니다.

(4)	용접 중 로봇이 정지하는 경우 수행되는 오버랩의 횟수를 발생 원인 별로 확인할 수 있습니다.

<p align="center">
 <img src="../../_assets/1_12.png" width="70%"></img>
 <em><p align="center">그림 1.12 아크용접 가동정보 모니터링 창</p></em>
</p>  

 
조작 방법은 다음과 같습니다.

(1)	[pane layout]에서 [아크용접 가동정보]를 선택하여 아크용접 가동정보 모니터링 창을 실행할 수 있습니다. 또는, 분할된 모니터링 창에서 [창조정]버튼을 누른 후에도 선택할 수 있습니다.

(2) 해당 창에서 가동정보를 확인할 수 있습니다.# 2. 명령어 삽입

# 2.1 arcon


- 설명 
    
    ```arcon``` 문은 Arc용접을 시작하는 명령어 입니다. 이 명령어는 4가지 형태로 사용될 수 있습니다. 단, 설정된 용접기에서 지원하지 않는 명령어는 사용할 수 없습니다.


- 문법
  
    - arcon 
    - arcon cnd=<조건번호> 
    - arcon cnd=<조건번호>,job=<용접 Job번호>,cur=<전류값>,vol=<전압값>, vol_offset=<전압 옵셋값>
    - arcon cnd=<조건번호>,job=<용접 Job번호>  
        → Job 모드 지원 용접기 전용

- 파라미터
  
   ① Arc용접 조건번호
     - 내용 : Arc용접 시작 및 본 조건에 사용되는 용접조건의 번호
     - 범위 :  1~100
   
   ② 전류 값
     - 내용 : Arc용접용 출력 전류 값
     - 범위 : 0 ~ 500 A

   ③ 전압 값(vol) / 전압 값(vol_offset)

     - 내용(vol) : Arc용접 시 실제 출력할 전압 값
     - 내용(vol_offset) : Arc용접 시 시너직 전압의 옵셋 전압 값
     - 범위(vol) : 20 ~ 40 V
     - 범위(vol_offset) : 200 ~ 200 V(%)

   ④ 용접기의 Job번호
     - 내용 : 용접기 쪽에 저장된 Job번호 중 사용할 Job번호
     - 범위 : 1~999

</br>  

- 사용 예
  
   - ```arcon``` <span style="color: green"> # 이전에 수행했던 용접조건으로 설정한 조건대로 용접개시. 재시도, 재 기동은 미 실행. </span>
  - ```arcon cnd=1``` <span style="color: green"> # 지정한 용접시작조건 설정대로 용접개시.</span>
  - ```arcon cnd=1,cur=200,vol=22``` <span style="color: green"> # 전류, 전압은 입력된 값으로 적용하고 그 외의 용접 조건은 용접시작조건번호의 조건으로 용접개시.</span>
  - ```arcon cnd=1,job=5``` <span style="color: green"> # 용접 모드는 Job모드로 적용. 5번 job번호 사용. 그 외의 용접 조건은 용접시작조건번호의 조건으로 용접개시.</span>


- 세부 설명  
  [[5장 Arc용접 조건 편집]](../5_Condition_editing/README.md) 참고


</br>
</br>

{% hint style="warning" %}
[**주의**]  
 -	디지털 용접기를 사용하기 위해서는 『시스템』→『5: 초기화』→ 『3: 용도설정』에서 ‘Arc용접’ 항목을 디지털로 설정해야 합니다.

 - ‘용접기 중 일부 모델은 각종 용접설정들을 미리 설정하여 Job으로 내부에 저장하는 기능이 있습니다. 이 경우 4번째 항목을 사용할 수 있습니다.
{% endhint %}# 2.2 arcoff


- 설명 
    
    ```arcoff```는 Arc용접을 종료하는 명령어 입니다. 이 명령어는 4가지 형태로 사용될 수 있습니다. 단, 설정된 용접기에서 지원하지 않는 명령어는 사용할 수 없습니다.



- 문법
  
    - arcoff  
    - arcoff welder=2, delay=30

- 파라미터
  
   ① welder 조건번호
     - 내용 : 용접기를 2대 사용하는 경우 off시킬 용접기 번호를 설정합니다.
     - 범위 : 1~2
  
   ② delay 지연시간
     - 내용 : 용접기를 2대 사용하는 경우 off시킬 지연시간을 설정합니다.
     - 범위 : 0~2
</br>  

- 사용 예
  
   - ```arcoff``` <span style="color:green"> #특별한 종료처리 없이 Arc 용접을 종료 함.</span>
   - ```arcoff welder=2, delay=1``` <span style="color:green">#2번째 용접기 아크를 1초 후 off </span>

- 세부 설명  
  [[5장 Arc용접 조건 편집]](../5_Condition_editing/README.md) 참고


</br>
</br>

{% hint style="warning" %}
[**주의**]   
 -	디지털 용접기를 사용하기 위해서는 『시스템』 → 『5: 초기화』→ 『3: 용도설정』대화상자의 ‘아크용접’을 디지털로 설정해야 합니다.

{% endhint %}# 2.3 weaving on


- 설명 
    
    ```weaving on cnd=1```은 위빙조건을 실행하는 명령어 입니다. [quick open]창에 진입하여 해당조건번호에 해당하는 위빙조건을 설정할 수 있습니다.



- 문법
  
    - weaving on=<위빙조건번호>	← 위빙 조건을 로딩하여 실행
  
</br>  

- 사용 예
  
   - ```weaving on, cnd=1```  <span style="color: green"># 위빙 조건 1번을 로딩하여 실행</span>
   - ```arcon cnd=1``` <span style="color: green"># arcon 1번 조건으로 실행</span>
   - ```move L,spd=100cm/min,accu=0,tool=0``` <span style="color: green"># 위의 위빙 조건대로 실행하며 로봇 이동</span>


- 세부 설명  
  [[6장 위빙기능(Weaving)]](../6_Weaving_function/README.md) 참고


</br>
</br># 2.4 weaving off


- 설명 
    
    위빙 동작을 종료하기 위한 명령어 입니다.


- 문법
  
    - weaving off
  
</br>  

- 사용 예
  
   - ```weaving off``` 


- 세부 설명
  
  [[6장 위빙기능(Weaving)]](../6_Weaving_function/README.md) 참고

# 2.5 refp

- 설명 
    
    위빙 동작 시 필요한 참조점을 입력하기 위한 명령어 입니다. 위빙 벽, 진입방향 등의 참조점을 입력합니다.

- 문법
  
    - refp <참조점 번호>,<포즈(번호)>
    - refp <참조점 번호>

- 파라미터
  
   ① 참조점 번호
     - 내용 : 참조점의 종류를 설정하는 번호
     - 범위 : 1~4
   
   ② 포즈번호
     - 내용 : 참조점의 포즈를 입력합니다. 단, 숨은 포즈로 입력한 경우는 생략됨.
 
</br>  

- 사용 예
  
   - ```refp 1,P1```  <span style="color: green"># 위빙의 벽방향을 P1을 이용하여 지정</span>
   - ```refp 1```    <span style="color: green"># 위빙의 벽방향을 숨은 포즈를 이용하여 지정</span>
   - ```refp 2, (-1073.33, 739.01, 258.30, 0, 76, 23)```   <span style="color: green"># 위빙면의 위치를 지정</span>



- 세부 설명
  [[6장 위빙기능(Weaving)]](../6_Weaving_function/README.md) 참고



</br>
</br>

{% hint style="warning" %}
[**주의**]
 -	```refp``` 문은 ```move``` 문처럼 스텝에 속합니다.
 - 사용자키의 <refp>키를 이용해 refp 명령문을 입력한 경우 숨은 포즈 형식이 됩니다.
 - 실행단위를 Cmd, Step로 설정 후 스텝전진을 실행하여 티칭 된 위치로 이동할 수 있습니다.
{% endhint %}# 2.6 lvs

- 설명 
    
    ```lvs``` 문은 LVS 용접선 추종 기능을 시작하는 명령어입니다.

- 문법
  
    - lvs track, cnd=<조건 번호>,seam=<seam번호>,sp=<포즈변수>
    - lvs seamf, cnd=<조건 번호>,seam=<seam번호>


- 파라미터
  
   ① 조건 번호
     - 내용 : LVS 기능 실행 시 사용되는 LVS조건번호
     - 범위 : 1~32
   
   ② 옵션
     - seam : seam 번호를 지정합니다. 해당 번호는 LVS 컨트롤러에 전송되어 LVS센서가 해당번호의 seam으로 센싱을 하도록 합니다.
     - sp : 시작점, 종료점, seamf 로 찾은 포즈를 저장할 포즈변수를 지정합니다.
     - seamf : 심파인딩
              LVS를 이용하여 현재 수신하고 있는 위치를 포즈로 변환하여 저장합니다.
     - track : 트래킹
              LVS를 이용하여 실시간 트래킹을 수행하는 명령어입니다.
     - eps : 종료점 우선탐색
              LVS를 이용하여 종료점 탐색시 사용하는 명령어입니다.
     
 
</br>  

- 사용 예
  
   - ```lvs seamf, cnd=1, seam=10, sp=p10``` <span style="color: green"># 조건번호 1번, seam번호 10번으로 seam 파인딩 기능 수행, 결과포즈는 p10에 저장</span>
   - ```lvs track, cnd=1 ,seam=10``` <span style="color: green"># 조건번호 1번, seam번호 10번으로 LVS 용접선 추종 시작</span>


- 세부 설명
  
  •	옵션 기능으로 사용을 위해서는 당사에 문의하시기 바랍니다.
# 2.7 atdc

- 설명 
  
    ```atdc``` 문은 자동 툴 데이터 보정 기능을 실행하는 명령어 입니다.

- 문법
  
    - atdc T=<툴 번호>,OrgP=<원래 포즈>,NewP=<현재포즈>

- 파라미터
  
   ① 툴 번호
     - 내용 : 자동 툴 데이터 보정기능을 실행할 툴 번호
     - 범위 : 0~15
   
   ② 원래 포즈
     - 내용 : 원래 저장되어 있던 포즈

   ③ 현재 포즈
     - 내용 : 변형된 현재의 포즈
      
</br>  

- 사용 예
  
   - ```atdc T=1,OrgP=P1,NewP=P2```


- 세부 설명
  
  -	옵션 기능으로 사용을 위해서는 당사에 문의하시기 바랍니다.# 2.8 heightsen on

- 설명 
  
    ```heightsen``` 문은 높이센싱(AVC, Arc 길이제어)을 시작하는 명령문입니다.
자세한 내용은 ‘높이 센싱’ 부분을 참고하십시오.


- 문법
  
    - heightsen on, cnd=<높이센싱 조건번호>

- 파라미터
  
   ① 높이센싱 조건번호
     - 내용 : 높이센싱 실행 시 사용하는 조건 번호
     - 범위 : 0 ~ 8
      
</br>  

- 사용 예
  
   - ```heightsen on, cnd=1```  <span style="color: green"># 높이센싱 1번 조건으로 높이센싱을 시작</span>


- 세부 설명
  
  [[8.3 높이센싱(Height Sensing)]](../8_Application_function/3_Height_sensing/README.md) 참고# 2.9 heightsen off

- 설명 
  
    ```heightsen off``` 문은 높이센싱(AVC,Arc 길이제어)을 종료하는 명령문입니다.


- 문법
  
    - heightsen off
      
</br>  

- 사용 예
  
   - ```heightsen off```   <span style="color: green"># 높이센싱 실행을 종료</span>


- 세부 설명
  
  [[8.3 높이센싱(Height Sensing)]](../8_Application_function/3_Height_sensing/README.md) 참고# 2.10 arccond

- 설명
    
    ```arccond``` 문은 아크용접의 전류, 전압, 속도, 위빙폭, 위빙 주파수를 설정하는 명령입니다. 또한 현재 arccond의 조건으로부터 다음 arccond 조건까지 선형적으로 조건을 변경할 수도 있습니다. 즉, 좌방향거리/우방향거리 (gap) 에 따라 보간조건이 적용되며 Gap에 따른 용접속도와 위빙폭이 자동계산됩니다. 


- 문법
  
    - arccond <용접조건 변경방식 L, D>, spd=<용접속도>, rd=<우방향거리>, ld=<좌방향거리>, freq=<위빙주파수>, cur=<전류>, vol=<전압>
    - arccond <용접조건 변경방식 L, D>, cnd=<용접조건 데이터베이스 번호>

- 파라미터
  
   ① 용접조건 변경방식
     - 내용 : 연속 변경 L, 계단형 변경 D
     - 범위 : L, D
   
   ② cnd : 용접데이터베이스 조건번호
     - 내용 : 용접 구간에 사용할 용접조건 데이터베이스 번호를 설정합니다.
     - 범위 : 1~1000

   ③ gap
     - 내용 : gap 변수를 설정합니다. 이 변수의 값은 보통 터치센싱으로 측정한 gap [mm]이 들어갑니다.
     - 범위 : 사용자가 JOB에서 선언한 로컬변수 또는 전역변수

   ④ ld, rd : 좌방향거리/우방향거리
     - 내용 : 위빙 동작 시 좌/우 방향의 진폭을 설정합니다.
     - 범위 : 0.0~50.0 mm

   ⑤ freq : 위빙 주파수
     - 내용 : 위빙 주파수를 설정합니다.
     - 범위 : 0.0~10.0 Hz
      
   ⑥ cur : 전류
     - 내용 : 용접 구간의 용접 전류를 설정합니다.
     - 범위 : 1~1000 A(%, m/min)
   
   ⑦ vol : 전압
     - 내용 : 용접 구간의 용접 전압(보정)을 설정합니다.
     - 범위 : -200~200 V(%)

</br>  

- 사용 예
  
   - ```arccond L, spd=30, rd=4, ld=4, freq=3, cur=400, vol=28```
   - ```arccond L, cnd=1```
   - 보간조건편집창 

     아래와 같이 보간조건인 4개 점을 설정해 놓으면 설정한 좌우 위빙폭이 아닌 센싱한 gap에 따라 가변적으로 선형보간하여 위빙폭과 용접속도를 변경시킬 수 있습니다. 그림에서 circle은 현재 갭에 대해 점선으로 표시된 기준조건에 대해 보간된 용접속도 및 폭을 나타냅니다.

<p align="center">
 <img src="../_assets/arc_cond.png" width="70%"></img>
</p>

# 2.11 multipass

- 설명
    
    아크센싱의 경로를 재현하기 위한 멀티패스 용 명령어 입니다. 이 명령어를 이용하면 원래 아크용접 경로에서 원하는 만큼 시프트 시킨 경로를 재현하여 용접할 수 있습니다. 


- 문법
  
    - multipass save, trj=<멀티패스 궤적 번호>, period=<궤적 저장 주기 거리>
    - multipass load, trj=<멀티패스 궤적 번호>, side=<좌우 시프트 거리>, height=<상하 시프트 거리>, reverse=<멀티패스 재생방향>, tas=<토치 전후방향 각도 시프트>, was=<토치 좌우방향 각도 시프트>
    - multipass off


- 파라미터
  
   ① 멀티패스 궤적 번호
     - 내용 : 저장/로딩 할 멀티패스 궤적 번호
     - 범위 : 1 ~ 50
   
   ② 궤적 저장 주기 거리
     - 내용 : 멀티패스 궤적을 저장할 샘플링 거리
     - 범위 : 5 ~ 100 mm

   ③ 좌우 시프트 거리
     - 내용 : 멀티패스 재현 시 원래 아크센싱 궤적에서 좌우 방향으로 시프트 할 거리
     - 범위 : -20 ~ 20 mm

   ④ 상하 시프트 거리
     - 내용 : 멀티패스 재현 시 원래 아크센싱 궤적에서 상하 방향으로 시프트 할 거리
     - 범위 : -20 ~ 20 mm
     
   ⑤ 멀티패스 재생방향
     - 내용 : 멀티패스 재현 시 원래 아크센싱 궤적과 반대 방향부터 재생할 것인지 설정
     - 범위 : 0(정방향), 1(역방향)

   
   ⑥ 토치 전후방향 각도 시프트
     - 내용 : 멀티패스 재현 시 토치를 전후 방향으로 기울이는 시프트 각도
     - 범위 : -20 ~ 20 deg

   ⑦ 토치 좌우방향 각도 시프트
     - 내용 : 멀티패스 재현 시 토치를 좌우 방향으로 기울이는 시프트 각도
     - 범위 : -20 ~ 20 deg
  
</br>  

- 사용 예
  
     ```weaving on, cnd=1```  
     ```multipass save, trj=1, period=10```  
     <span style="color: green"># 1번 궤적에 10mm 간격으로 저장  </span>  
     ```arcon cnd=1```   
**S10**  ```move L,tg=R2,spd=LV1!cm/min,accu=3,tool=1```  
**S11**  ```move L,tg=R2,spd=LV1!cm/min,accu=3,tool=1```  
     ```arcoff```  
     ```weaving off```  
     ```multipass off```  
**S12**  ```move L,spd=50%,accu=3,tool=1```  
**S13**  ```move L,spd=50%,accu=3,tool=1```  
**S14**  ```move L,spd=50%,accu=3,tool=1```  
     ```multipass load,trj=1,side=3,height=3,reverse=0,tas=0,was=0```  
     <span style="color: green">#  1번 궤적을 읽어 우측 3mm, 위로 3mm 시프트, 정방향, 각도 시프트 없음.  </span>  
**S15**  ```move L,R2,spd=50%,accu=0,tool=1```  
     <span style="color: green">#  멀티패스 시작 위치로 시프트하며 이동할 스텝  </span>  
     ```weaving on, cnd=11```  
     ```arcon cnd=1 ```  
**S16**  ```move L,tg=R2,spd=LV1!cm/min,accu=3,tool=1```  
**S17**  ```move L,tg=R2,spd=LV1!cm/min,accu=3,tool=1```  
     ```arcoff```  
     ```weaving off```  
     ```multipass off```
# 2.12 posi_calib

- 설명 
    
    ```posi_calib``` 문은 입력된 프로그램 번호를 이용하여 지정한 포지셔너를 캘리브레이션 하는 명령어입니다. 이 명령은 서보축 체인지 기능과 함께 사용되며 이를 통해 로봇이 작업하는 중에도 변경된 서보축의 포지셔너를 캘리브레이션 할 수 있습니다.

- 문법
  
  	posi_calib job=<프로그램 번호>, p_=<포지셔너 그룹번호>

- 파라미터
  
   ① 프로그램 번호
     - 내용 : 포지셔너 캘리브레이션이 티칭되어 있는 작업 프로그램 번호
     - 범위 : 1 ~ 9999
   
   ② 스테이션 번호 
     - 내용 : 캘리브레이션 할 포지셔너 그룹 번호
     - 종류 : S0, S1, S2, S3, All

</br>

- 사용 예
  
   ```posi_calib job=9997,p_=2 ```   
   <span style="color: green">#  9997.JOB 의 작업 프로그램, 2번 Station을 캘리브레이션 함.</span># 2.13 touchsen

- 설명
    
    ```touchsen``` 문은 와이어 터치센싱을 수행하는 명령어 입니다. 퀵 오픈창으로 센싱타입 및 센싱조건을 설정할 수 있습니다. 터치센싱 하려는 위치로 move를 수행하고 touchsen문을 수행하면 해당 위치에서 센싱타입 및 조건에 맞추어 자동으로 터치센싱 합니다.


- 문법
  
    - touchsen cnd=<조건번호>, crd=<좌표계>, dir=<방향>, pose=<저장할 포즈>
    - touchsen cnd=<조건번호>, crd=<좌표계>, dir=<방향>, angle=<탐색각도>, pose=<저장할 포즈>
    - touchsen cnd=<조건번호>, crd=<좌표계>, dir=<방향>, lift_up=<들어올릴 양>, pose=<저장할 포즈>, gap=<butt gap 변수>
    - touchsen cnd=<조건번호>, crd=<좌표계>, dir=<방향>, mpose=<마스터모드 저장할 기준포즈>, mshift=<양산모드 계산된 쉬프트 변수>


- 파라미터
  
   ① 조건번호
     - 내용 : 터치센싱 조건 번호 
     - 범위 : 1 ~ 8
   
   ② 방향 
     - 내용 : 터치센싱 방향, 센싱타입별 지원 방향이 상이함.
     - 범위 : +x, [+x,-z], [+ty, +tz]

   ③ 저장할 포즈
     - 내용 : 포즈번호를 지정합니다.
     - 범위 : 사용자가 job에 정의한 로컬/전역변수

   ④ Butt gap 변수
     - 내용 : Butt/VGroove 타입에서 터치센싱으로 측정한 gap이 저장될 변수
     - 범위 : 사용자가 job에 정의한 로컬/전역변수
     
   ⑤ 센싱각도
     - 내용 : 베이스, 툴, 툴프로젝션 좌표계에 대한 축으로 모든 센싱방향을 회전.
     - 범위 : Y30, Y-30, X30, X-30, TL30, TL-30, TY30, TY-30
     
   ⑥ mpose와 mshift
     - 내용 : 포즈와 시프트 변수로 마스터모드 기능 사용시 사용, 마스터모드에서는 해당번호의 포즈에 센싱결과를 저장하며, 실행모드에서는  시프트변수에  센싱하여 측정된 포즈의 마스터모드 대비 시프트값이 계산되어 저장됩니다.
     - 범위 : 사용자가 job에 정의한 로컬/전역변수
  
</br>  

- 사용 예
  -	```var var1=0```  
<span style="color: green"># butt 작업물 센싱시 측정된 gap을 저장할 변수를 선언한다.</span>
  -	```var P10=cpo()```  
<span style="color: green"># 포즈변수 P10을 선언하고 현재포즈를 저장해둔다.</span>  
  -	```touchsen cnd=2, crd="tool", dir=[+y], lift_up=3, pose=P10, gap=var1```  
<span style="color: green"># 2번 조건, 툴좌표계 방향, 바닥센싱 후3mm 상승, 갭은 var1변수에 저장</span>
  - ```touchsen cnd=1, crd="tool", dir=[tf, td], pose=P10, 0```      
<span style="color: green"># 1번 조건, 툴프로젝션 방향, 2점 터치</span>
  - ```touchsen cnd=1, crd="base", dir=[+x,-y,-z], pose=P10, 0```     
<span style="color: green"># 1번 조건, 베이스좌표 방향, 3점 터치</span>

# 2.14 stitch

- 설명 
    
    ```stitch``` 문은 스티치 용접을 수행하는 명령어 입니다. 퀵 오픈창으로 스티치 조건을 설정할 수 있으며 이 정보들은 ROBOT.STC에 저장됩니다. 스티치 용접을 하려는 위치로 ```move``` 수행하고 ```arc on```문과 함께 사용해야 하며 스티치 기능을 수행하면 해당 위치에서 스티치 용접을 시작하며,  스티치 기능이 종료 되는 지점까지 스티치 용접을 진행 합니다.


- 문법
  
    - stitch on#=<조건번호>
    - stitch off

- 파라미터
  
   ① 조건번호
     - 내용 : 스티치 조건 번호 
     - 범위 : 1 ~ 20
   
</br>  

- 사용 예
  
   - ```stitch on#=2```  <span style="color: green">#  스티치 2번 조건 실행</span>
   - ```stitch off ```   <span style="color: green">#  스티치 기능 종료</span>

# 3. Quick Open 기능# 3.1 개요

Arc용접을 위한 작업 프로그램을 티칭할 때 전압, 전류 등 용접 관련 조건뿐만 아니라 위빙과 재시도/오버랩, 용접기의 특성 등 Arc 용접 기능의 세부적인 설정이 필요합니다. 또한 Arc 용접뿐만 아니라 로봇을 사용하는 일반적인 상황에서 티칭된 스텝이나 보조점의 위치의 정보(좌표 및 자세 등)를 확인해야 하는 경우도 있습니다. Arc 용접 관련 조건, 스텝 및 보조점의 위치 정보는 제어기 내부에서 파일의 형태로 관리하고 있어 편집이 쉽지 않기 때문에, 이러한 파일들을 쉽고 빠르게 편집할 수 있는 기능을 제공합니다.

Arc 용접 관련 조건들을 설정하거나 스텝과 보조점의 정보를 확인 및 편집을 번거로운 조작 없이 한 번의 키 조작으로 가능하게 하는 기능이 'quick open' 기능입니다.

용접시작조건의 편집을 예로 들면, Arc On 기능을 하는 ```arcon``` 명령문에 커서가 있을 때 [quick open] 키를 누르면 용접시작조건 중 현재 명령문에서 사용하는 조건번호의 내용이 표시됩니다. 이 화면에서 용접시작조건의 세부내용을 확인하거나 변경할 수 있으며 해당 조건 파일과 연관된 다른 조건파일이 있을 경우 바로 이동할 수 있습니다.

이처럼 본 기능은 특정한 명령문과 관련하여 조건파일이나 스텝 위치 등 세부 연관 내용을 쉽고 빠르게 확인 및 변경을 가능하게 하는 기능입니다.

 
<p align="center">
 <img src="../_assets/3_1.png" width="75%"></img>
 <em><p align="center">그림 3.1 로봇 프로그램에서 'quick open'</p></em>
</p>

특정 명령문에서 [quick open] 키를 누르면 관련된 파일이나 상세 내용을 화면에 표시합니다. 변경된 내용을 파일에 저장 후 종료를 원할 경우 <완료>를, 저장하지 않고 종료를 원할 경우 [취소]키를 누릅니다.
 
# 3.2 상세 내용

각 명령문에서 [quick open]을 누를 때 나타나는 내용은 다음과 같습니다.



(1) ```move```
- 파일, 내용
    - 위치
- 상세 내용
    - 현 위치, 지령치
    - X Y Z(mm) Rx Ry Rz(deg)
로봇 Configuration

- 비고
    - 지령치 수정 가능

(2) ```call```
- 파일, 내용
    - 호출되는 Program
- 상세 내용
    - 호출 대상 프로그램으로 이동
로봇 Configuration

- 비고
    - [스텝]+’-1입력’을 통하여 이전에 CALL한 위치로 이동 가능

(3) ```jmpp```
- 파일, 내용
    - 호출되는 Program
- 상세 내용
    - 호출 대상 프로그램으로 이동
로봇 Configuration


  
(4) ```대입문```
- 파일, 내용
    - 변수 확인 및 변경
- 상세 내용
    - 변수 유형에 따라 해당 변수를 모니터링하고 값을 변경



(5) ```arcon```
- 파일, 내용
    - arcon cnd=XX
    - arcon cnd=XX,cur=XX,vol=XX
    - arcon cnd=XX,job=XX
    - arcon cnd=XX,ref=XX

- 상세 내용
  - 용접개시조건 
    - 조건번호, 설명, 시너직 코드, 가스예출, 전류/송급속도, 용접전압(보정)/ Arc길이, WCR 대기시간, 로봇지연시간, ...

  - 용접보조조건  
    - 재시도: 횟수, 재시도조건, 동작모드, 속도, Retract시간, Retract속도, 후퇴/용접선 이동량, 시프트 이동량
    - 재기동: 횟수, 재기동조건, 중첩량, 이동속도, 용접속도
  - 용접종료조건
    - 전류비율, Downslope시간, 조건 유지시간, 가스후출, ...
  - 용접보조조건(종료조건 진입)
    - 자동 용착 해제: 횟수, 용착해제 조건, 조건유지시간 

(6) ```weaving on```
- 파일, 내용
    - 위빙 조건 확인 및 변경

- 상세 내용
  - 조건번호, 위빙형태, 주파수, 기본패턴, 진행각도, 경계제한, 이동시간, 타이머

(7) ```refp```
- 파일, 내용
    - 참조점 확인 및 변경
- 상세 내용
    - 현 위치, 지령치
    - X Y Z(mm) Rx Ry Rz(deg) 로봇 Configuration

- 비고
    - 지령치 수정 가능, “위치”화면과 동일

(8) ```lvs```
- 파일, 내용
    - LVS 조건 확인 및 변경

- 상세 내용
  - 기능 설정
    - 조건번호, Joint형상, 동작모드, 시작점 검출, 종단점 검출, 센싱옵셋

  - 트래킹 조건 
    - Roll 추종, Pitch 추종, Yaw 추종, 시작점 자세보정, ...
  - Gap 적응형 용접 조건
    - 조건 테이블 작성

(9) ```heightsen```
- 파일, 내용
    - 높이센싱 조건 확인 및 변경
- 상세 내용
  - 조건번호, Input data type for height sensing, Reference data setting method, ...

(10) ```arccond```
- 파일, 내용
    - 용접조건 데이터베이스

- 상세 내용
  - 용접속도, 전류, 전압, 위빙 폭, 위빙 주파수로 이루어진 데이터 베이스 확인 및 편집

(11) ```touchsen```
- 파일, 내용
    - 터치센싱 기능 설정

- 상세 내용
  - 센싱종류, 탐색거리, 후퇴거리, 탐색속도, 퇴피속도, 오차보정량, 센싱시점, 포즈계산 설정
# 4. Arc용접기 설정# 4.1 Arc 용접기 설정 

사용자는 당사 Arc 용접 로봇과 함께 다양한 용접기를 사용 가능합니다. 이를 위해 용접기 특성을 편집할 수 있는 기능을 제공합니다. 용접기 설정 화면은 다음과 같이 접근 가능합니다.

우선 사용하고자 하는 용접기는 『시스템』 → 『5: 초기화』 → 『3: 용도설정』 메뉴에서 ‘용접기 번호’항목으로 설정할 수 있습니다. 이 화면에서『용접기』를 선택하면 해당 용접기의 조건 편집화면이 나타납니다.


<p align="center">
 <img src="../../_assets/1_7.png" width="70%"></img>
 <em><p align="center">그림 4.1 용도설정 대화상자</p></em>
</p> 

</br>

<p align="center">
 <img src="../../_assets/4_2.png" width="70%"></img>
 <em><p align="center">그림 4.2 현대 용접기 조건 설정</p></em>
</p>   

</br>

<p align="center">
 <img src="../../_assets/4_3.png" width="70%"></img>
 <em><p align="center">그림 4.3 현대 용접기 입출력 신호 할당</p></em>
</p>   

용접기 조건 화면에서는 용접기와 관련된 특성에 대한 편집 기능을 제공하기 때문에 편집 가능한 항목은 용접기 별로 차이가 있습니다. 다음 항목들은 용접기 조건 화면에서 공통적으로 편집 가능한 항목들입니다.

</br>

공통적으로 편집 가능한 항목들의 내용은 다음과 같습니다.

(1)	번호  
    현재 설정하고 있는 용접기 번호를 나타냅니다. 해당 항목에서는 현재 선택된 용접기와 용접기 번호를 확인 가능하며 변경은 ‘용도설정’ 화면에서만 가능합니다.

(2)	명칭  
    용접기의 모델명을 기록합니다.
    기본적으로 당사가 지원하는 용접기의 모델명이 적혀있습니다.

(3)	설명  
    용접기에 대한 설명을 기록합니다. 기본적으로 용접기 메이커의 이름이 적혀있습니다.

(4)	용착 검출시간: [0.2]초 (범위: 0.1 ~ 10.0)  
    Arc 용접 종료 후 설정된 시간 동안 와이어 용착을 검사합니다.

(5)	ARC OFF 검출시간: [0.6] 초 (범위: 0.0 ~ 10.0)  
    Arc용접 중 Arc 꺼짐에 대한 기준 시간을 설정합니다. 해당 시간 이상 Arc가 꺼질 경우 Arc off로 인식합니다. 이 값이 작은 경우 Arc점화 실패가 자주 발생할 수 있습니다. 반면에 설정된 값이 너무 크면 Arc off 후에도 로봇 이동과 와이어 인칭이 계속 되는 시간이 증가하기 때문에 Arc off 후 로봇이 이동하는 거리와 와이어 돌출되는 길이가 증가합니다.
 
# 4.2 HRWI 특성 파일 편집


(1)	통신 방식  
효성 용접기와 통신하는 방식을 설정합니다. 효성 용접기는 기본적으로 CAN 통신을 지원하며 현장 상황에 따라 DeviceNet 통신을 사용할 수도 있습니다. 용접기에서 통신 설정은 용접기 덮개를 제거한 후 메인보드의 딥스위치를 통해 설정합니다.
다음은 Zi-sol 모델에서 통신 설정 방식입니다.  
    
- 용접기 전원 off 후 딥스위치 1번(SW1)의 설정을 변경 후 전원을 On 합니다.
- 아래 그램에서 밝은 색으로 표시되는 부분이 딥스위치의 돌출된 부분입니다.
 
<p align="center">
 <img src="../../_assets/4_4_0.png" width="25%"></img>
</p>



(2)	CAN 통신 속도: {125kbps, 250kbps, 500kbps, 1Mbps}  
용접기 통신할 통신 속도를 설정합니다. 사용하고자 하는 용접기가 지원하는 통신속도를 확인해야 합니다. 효성 용접기의 경우 250kbps의 통신 속도로 설정해야 합니다.

(3)	CAN 통신 포트: {CAN port 1, CAN port 2, CAN port 3}  
당사 제어기에서 지원하는 4개의 CAN 통신 포트 중 용접기와 통신을 위해 사용할 포트를 지정합니다. 4개의 CAN 통신 포트 중 1개는 기본적으로 사용 중이기 때문에 3개의 포트 중 1개를 선택해야 합니다.
  - CAN port 1: BD5B2나 제어기 문에 있는 DeviceNet 커넥터를 사용하는 경우
  - CAN port 2: BD574 DeviceNet 커넥터 사용 시
  - CAN port 3: BD574 2개 포트 모델 사용 시 작은 커넥터

(4)	입력설정 시작포트  
설정된 포트는 자동 할당 시 입력포트의 시작이 되는 기준 포트로 사용됩니다. 

(5)	출력설정 시작포트  
설정된 포트는 자동 할당 시 출력포트의 시작이 되는 기준 포트로 사용됩니다.

(6)	포트설정  
DeviceNet 인터페이스를 사용하는 경우 [포트설정]키를 누르면 입출력 신호 포트를 설정하기 위한 대화상자에 진입할 수 있습니다.

(7)	자동할당  
DeviceNet 인터페이스를 사용하는 경우 [자동할당]키를 누르면 위에서 설정한 입력설정 시작포트, 출력설정 시작포트를 기준으로 자동으로 입출력 신호가 할당됩니다. 이후 자동으로 포트 설정 대화상자에 진입할 수 있습니다.

(8)	포트 설정 대화상자  
포트설정이나 자동할당 버튼을 누르면 하기와 같은 입력포트 설정, 출력포트 설정 대화상자에 진입할 수 있습니다. 사용하지 않는 포트인 경우 0번으로 설정하면 해당 신호와 연관된 내부 프로세스를 건너뛸 수 있습니다. 각 포트는 기본적으로 설정된 값을 사용하는 것을 권장합니다.
  
<p align="center">
 <img src="../../_assets/4_4.png" width="70%"></img>
 <em><p align="center">그림 4.4 효성 용접기 사용 시 용접기 입력포트 설정 대화상자</p></em>
</p>
  
<p align="center">
 <img src="../../_assets/4_5.png" width="70%"></img>
 <em><p align="center">그림 4.5 효성 용접기 사용 시 용접기 출력포트 설정 대화상자</p></em>
</p>
  
# 4.3 Fronius/EWM 용접기 특성 파일 편집

(1)	입력설정시작포트  
설정된 포트는 자동할당 시 입력포트의 시작이 되는 기준 포트로 사용됩니다.

(2)	출력설정시작포트  
설정된 포트는 자동할당 시 출력포트의 시작이 되는 기준 포트로 사용됩니다.

 
<p align="center">
 <img src="../../_assets/4_5.png" width="70%"></img>
 <em><p align="center">그림 4.6 Fronius 용접기 조건 설정</p></em>
</p>
  

# 5. Arc 용접 조건 편집# 5.1 Arc 용접 조건 구성

당사 제어기를 이용하여 Arc 용접을 수행하기 위해서는 용접기와 용접조건 설정이 필요합니다. 기본적인 Arc 용접 외에 위빙이나 Arc 센싱과 같은 특별한 기능을 사용하기 위해서는 해당 기능의 세부 설정을 필요로 합니다. 당사에서는 다양한 용접기를 이용하여 사용자가 원하는 설정으로 다양한 환경에서 용접할 수 있게 용접기 특성 파일 편집([[4장. Arc용접기 설정]](../../4_Setting/README.md)), Arc 용접 응용 기능 편집([[1.2.2 Arc 용접 각종 신호 및 기능 설정]](../../1_Basic_information/2_Function_setting/2_signals_functions.md))과 Arc 용접조건 편집 기능을 제공합니다. 

Arc 용접 조건은 다음과 같이 구성되어 있습니다.
  -	Arc 용접시작조건: 용접 시작 및 본 조건 용접 설정 편집
      - Arc 용접시작 보조조건: 재시도와 재시작 기능 편집
  -	Arc 용접종료조건: 용접 종료 시 설정 편집
      - Arc 용접종료 보조조건: 자동용착해제 기능 편집
# 5.2 Arc 용접 타임차트

디지털 Arc용접의 타임차트입니다. 각 조건설정은 이후 각 명령어 별 대화상자 설명을 참조하세요.

 
<p align="center">
 <img src="../../_assets/5_1.png" width="80%"></img>
 <em><p align="center">그림 5.1 디지털 Arc용접 타임차트</p></em>
</p>

# 5.3 용접시작조건 - arcon cnd=X 에서 [quick open]으로 실행


Arc용접 설정이 디지털이고, ```arcon cnd=X``` 명령라인에 커서가 있을 때, [quick open]키를 누르면 다음과 같이 용접시작조건의 편집화면이 나타납니다.


 
<p align="center">
 <img src="../../_assets/5_2.png" width="70%"></img>
 <em><p align="center">그림 5.2 Fronius 용접기 조건 설정</p></em>
</p>
  
 
<p align="center">
 <img src="../../_assets/5_3.png" width="70%"></img>
 <em><p align="center">그림 5.3 효성 용접기 조건 설정</p></em>
</p>

 
 
<p align="center">
 <img src="../../_assets/5_3.png" width="70%"></img>
 <em><p align="center">그림 5.4 EWM 용접기 조건 설정</p></em>
</p>

 


조건들을 편집 후 [ESC]키를 누르면 저장하지 않고 대화상자가 종료되며 [F7: 완료] 키를 누르면 설정 내용이 저장한 후 대화상자가 종료됩니다.

다음 설명되는 항목들은 용접기에 공통적으로 적용되는 항목들에 대한 설명입니다. 용접기별 전용 설정 가능 항목들은 [[4장 Arc 용접기 설정]](../../4_Setting/README.md)을 참조하시기 바랍니다. 

공통 항목의 내용들은 용접기마다 명칭, 단위, 범위에 차이가 있을 수 있습니다. 용접기별 차이점은 각 항목의 표를 참조하시기 바랍니다.

</br>

---

(1)	조건번호  
    편집할 용접시작조건 번호를 지정합니다. (32개의 조건을 지정하여 사용할 수 있습니다. ) 
<center>

| 항목 | 명칭 | 범위 |
| :---: | :---: | :---: |
| 모든 용접기 공통 | 조건번호 | 1 ~ 32 |

</center>
    
    

</br>

(2)	설명  
    해당 용접시작조건에 대한 설명을 기록합니다. 
<center>

| 지원 용접기 | 명칭 |
| :---: | :---: |
| 모든 용접기 공통 | 설명 |

</center>
    
(3)	시너직 코드  
    용접기에 전송할 synergic code를 설정합니다. 코드값의 설정은 별도의 synergic 선택 대화상자에서 이루어지게 됩니다. Synergic 선택 대화상자는 용접 시작 조건 화면에서 [도움말] 키를 누르거나 커서가 용접환경코드에 위치하였을 때 [ENTER]키를 눌러서 진입할 수 있습니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 시너직 코드 | - |- | 040 |
| Fronius </br>(미지원) |||||
| EWM | JOB Nr.(synergic) | - |- | 185|

</center>
    
</br>

(4)	가스 예출(가스신호제어시)  
    Arc 용접 시작 전 용접부위를 대기와 격리시키기 위해 쉴드가스를 미리 배출하는 시간을 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| 모든 용접기 공통 | 가스 예출 | 초 | 0.0 ~ 10.0 | 0.5 |

</center>

</br>

(5)	시너직 코드  
    용접 전류에 해당하는 값을 설정합니다. 본 조건 용접에서 사용되는 전류이며, 초기조건, 종료조건에서 사용되는 전류는 이 값의 비율로 결정됩니다. 
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 용접전류 | A |0.0 ~ 500.0 | 100 |
| Fronius | 용접파워 | % | 0.0 ~ 100.0 | 10 |
| ESAB/EWM | 와이어 송급속도 |  m/min | 0.0 ~ 25.0 | 3.1 |

</center>
    
</br>

(6)	용접전압보정/ Arc 길이보정  
    디지털 용접에서는 용접전압을 직접 입력하지 않고 synergic data에서 용접전류에 의해 선택된 용접전압을 사용하는 경우가 많습니다. Synergic data에 의해 자동적으로 선택된 용접전압의 변경을 원할 경우 해당 용접전압을 기준으로 하여 변경될 전압의 옵셋 값을 설정합니다. 
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 용접전압보정 | % | 50.0 ~ 150.0 | 100 |
| EWM | 용접전압보정 | V | -10.0 ~ 10.0 | 0 |
| Fronius | 아크길이보정 | % | -30.0 ~ 30.0 | 0 |
</center>
    
</br>

(7)	WCR 대기시간  
    WCR 입력을 대기하는 시간을 나타냅니다. 이 시간 내에 WCR신호가 들어오지 않으면 재시도를 수행합니다. 단, 재시도횟수가 0인 경우에는 에러를 출력하고 로봇이 정지하게 됩니다. 재시동방법 및 재시도횟수 등 재시도 관련 기능은 용접보조조건에서 설정 가능합니다. (5.5, 5.6 용접보조조건 참조)
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| 모든 용접기 공통 | WCR 대기시간 | 초 | 0.0 ~ 10.0 | 2 |


</center>
    
</br>

(8)	로봇지연시간  
    Arc용접이 정상적으로 시작된 후 로봇이 용접선을 따라 이동하면서 용접을 하기 전 이동을 대기하는 시간을 설정합니다. 초기조건과 무관하며 초기조건 처리 중에도 로봇이 이동할 수 있습니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| 모든 용접기 공통 | 로봇지연시간 | 초 | 0.0 ~ 10.0 | 0 |


</center>
    
</br>

(9) 초기조건 유지시간  
    Arc용접 시작 시 초기 전류값을 유지하는 시간을 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 
| :---: | :---: | :---: |:---: |
| 모든 용접기 공통 | 초기조건유지시간 | 초 | 0.0 ~ 10.0 | 


</center>
    
</br>

(10) 초기 용접전류/용접파워/송급속도  
    Arc 용접 시작 시 초기조건 유지시간 동안 출력할 용접전류를 설정합니다. 본 조건 용접전류 대비 %로 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 초기 용접전류 | % | 20 ~ 200 | 120 |
| Fronius | 초기 용접파워 | % | 20 ~ 200 | 120 |
| EWM | 초기 송급속도 | % | 20 ~ 200 | 120 |

</center>
    
</br>

(11) 초기 용접전압보정/ Arc 길이보정  
    Arc 용접 시작 시 초기조건 유지시간 동안 출력할 용접전압를 설정합니다. 시너직 전압 대비 보정값으로 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 초기 용접전압보정 | % | 50.0 ~ 150.0 | 100 |
| EWM | 초기 용접전압보정 | V | -10.0 ~ 10.0 | 0 |
| Fronius | 초기 Arc 길이보정 | %| -30.0 ~ 30.0 | 0 |

</center>
    
</br>

(12) 슬로프 시간  
    초기조건과 본 조건 사이에 전류 변화를 슬로프로 처리하는 시간을 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 
| :---: | :---: | :---: |:---: |
| 모든 용접기 공통 | 슬로프 시간 | 초 | 0.0 ~ 10.0 | 


</center>
    
</br>

(13) 제한치 초과 허용 시간  
    용접 전류/전압, 피드모터 전류의 제한치 초과 허용시간을 설정합니다. 이 시간 이상 용접 전류/전압, 피드모터 전류가 제한치를 초과하는 경우 재시작을 수행합니다. 단, 재시작 횟수가 0인 경우에는 에러를 출력하고 로봇이 정지합니다. 재시작 방법 및 재시작 횟수 등 재시작 관련 기능은 용접보조조건에서 설정 가능합니다. ([5.6 용접 보조 조건 – 재기동] 참고) 이 시간이 0초로 설정되는 경우 Arc제한 감시기능을 사용하지 않습니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 | 
| :---: | :---: | :---: |:---: |:---: |
| 모든 용접기 공통 | 제한치 초과 허용 시간 | 초 | 0.0 ~ 10.0 | 0 | 


</center>
    
</br>

(14) 전압 상한치/전압 하한치  
    용접 중 전압의 상하한 제한치를 설정합니다. 제한치를 허용 시간 이상 넘을 경우 에러를 발생합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 
| :---: | :---: | :---: |:---: |
| 모든 용접기 공통 | 전압 상한치/전압 하한치| V | 0.0 ~ 100.0 | 


</center>
    
</br>

(15) 전류 상한치/전류 하한치  
    용접 중 전류의 상하한 제한치를 설정합니다. 제한치를 허용 시간 이상 넘을 경우 에러를 발생합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 
| :---: | :---: | :---: |:---: |
| 모든 용접기 공통 | 전류 상한치/전류 하한치| A | 0.0 ~ 1000 | 


</center>
    
</br>
    
</br># 5.3.1 용접 시작 조건 – HRWI 전용 설정



(1) 용접모드 선택: 일반, 펄스  
Arc 용접 방법을 설정합니다.

(2)	슬로우다운 조정: [  100] % (범위: 0 ~ 255)  
Arc 발생전까지 와이어를 송급하는 기본 속도의 옵셋을 설정합니다.

(3)	인덕터 효과: [  100] % (범위: 0 ~ 255)  
인덕터 효과를 설정합니다.
# 5.3.2 용접 시작 조건 – Fronius 전용 설정

(1)	동작모드: Prog-Std/Prog-Pulse/CMT/JOB  
Fronius 용접기에서 지원하는 용접모드를 설정합니다. 각 모드에 대한 설명은 아래와 같습니다.

- Prog-Std: 용접기에 저장된 일반 용접의 program을 사용
- Prog-Pulse: 용접기에 저장된 펄스 용접의 program을 사용
- CMT: Cool Metal Transfer 기능을 사용
- JOB: 용접기에 저장된 Job을 사용

(2)	Prog/Job 번호  
용접기에 저장되어 있는 program과 job 번호 중 사용할 번호를 설정합니다.

(3)	다이나믹보정: [  0]% (범위: -5.0 ~ 5.0)  
다이나믹보정 값을 설정합니다. 이 값이 작으면 강하고 안정적인 Arc가 발생하지만 스패터 양이 증가하고, 이 값이 크면 부드러운 Arc발생하고 스패터 양이 줄어듭니다.

# 5.3.3 용접 시작 조건 – EWM 전용 설정

(1)	JOB mode: <Job mode off, Job mode active>  
EWM AlphaQ 용접기에서 지원하는 용접모드를 설정합니다. 각 모드에 대한 설명은 아래와 같습니다.
-	Job mode off: 용접기에 시너직 데이터에 따라 송급속도, 전압 옵셋이 반영되어 용접을 수행
-	Job mode active: 용접기에 저장된 Job을 사용하여 용접 작업이 수행됨

(2)	Welding mode  
펄스 용접 사용여부를 설정합니다.

(3)	Super pulse function  
펄스 용접 시 super pulse(2단 펄스) 기능을 사용할 것인지 설정합니다.

(4)	Job Nr. (synergic)  
용접에 사용할 있는 시너직 번호나 job 번호 중 사용할 번호를 입력합니다. [도움말] 키를 누르면 용접법, 재질, 가스 종류, 와이어 직경에 맞는 Job번호를 설정하는 대화상자로 진입할 수 있습니다.

(5)	다이나믹보정: [  0] (범위: -40.0 ~ 40.0)  
다이나믹보정 값을 설정합니다. 이 값이 작으면 강하고 안정적인 Arc가 발생하지만 스패터 양이 증가하고, 이 값이 크면 부드러운 Arc발생하고 스패터 양이 줄어듭니다.

(6)	Lift arc start: <미사용, 사용>  
용접 시작 시 리프트 아크 기능을 사용할 것인지 설정합니다. 리프트 아크 기능을 사용하는 경우 용접 시작 시 스패터가 크게 발생하는 현상을 감소시킬 수 있습니다.
# 5.4 용접 종료 조건

Arc용접 설정이 디지털이고 용접시작조건 대화상자에서 [종료조건] 키를 누르면 다음과 같은 용접종료조건 편집화면이 나타납니다.

<p align="center">
 <img src="../../_assets/5_5.png" width="70%"></img>
 <em><p align="center">그림 5.5 용접종료조건 설정 (디지털 EWM 용접기 예)</p></em>
</p> 





용접 종료 조건의 항목을 수정 후 [ESC]키를 누르면 수정된 내용을 저장하지 않고 용접시작조건 대화상자로 이동합니다. [완료]키를 누르면 수정된 내용을 저장하고 용접시작조건 대화상자로 이동합니다.

</br>

---
각 항목별 내용은 다음과 같습니다.


</br>

(1)	조건번호: [1] (범위: 변경불가)  
    용접시작조건 번호를 표시합니다. 디지털 Arc용접기능에서는 종료조건번호와 시작조건번호는 하나로 관리됩니다. 따라서 종료조건번호를 변경하기 위해서는 시작조건번호를 변경해야 합니다. 종료조건화면에서는 확인만 가능하며 변경은 불가능합니다.

(2)	종료 용접전류/용접파워/송급속도  
    크레이터 처리시 출력할 전류의 값을 설정합니다. 본 조건(시작조건의 용접전류, 용접파워, 송급속도) 대비 % 량으로 설정합니다. 단, EWM 용접기의 경우 본 조건과 같은 m/min으로 설정합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 종료 용접전류 | % |10 ~ 100 | 70 |
| Fronius | 종료 용접파워 | % | 10 ~ 100 | 70 |
| EWM | 종료 송급속도 | m/min | 0.0 ~ 25.0 | 7.0 |

</center>



(3)	종료 용접전압보정/ Arc 길이보정  
    크레이터 처리 시 출력할 전압(Arc 길이) 보정값을 설정합니다. 전압은 출력할 전압을 지정하여 출력합니다.
<center>

| 지원 용접기 | 명칭 | 단위 | 범위 | 기본값 |
| :---: | :---: | :---: |:---: | :---: |
| HRWI | 종료 용접전압보정 | % | 50.0 ~ 150.0| 100 |
| EWM | 종료 용접전압보정 | V | -10.0 ~ 10.0 | 0 |
| Fronius | 종료 Arc 길이보정 |  % | -30.0 ~ 30.0 | 0 |

</center>

(4)	Downslope 시간(Crate Time): [0.10] 초 (범위: 0.0 ~ 10.0)  
    본 조건과 종료조건 사이에 전류 변화를 슬로프로 처리하는 시간을 설정합니다.  

<p align="center">
 <img src="../../_assets/5_6.png" width="30%"></img>
 <em><p align="center">그림 5.6 DownSlope 시간과 Crate 시간 차트</p></em>
</p>

(5)	조건유지시간: [1] 초 (범위: 0.1 ~ 10.0)   
    용접종료조건의 ‘전류비율’ 항목에서 지정된 출력 값을 유지하는 시간을 설정합니다.

(6)	Burnback 조정: [  0] % (범위: -20 ~ 20)  
    Burnback 처리를 설정합니다.

(7)	가스 후출: [ 0.10] 초 (범위: 0.3 ~ 10.0)  
    Arc가 꺼진 후에도 보호가스를 계속 출력하는 시간을 설정합니다.

(8)	크레이터 후진거리: [  0] (범위: 0 ~ 100)  
    크레이터 처리 과정 중 DownSlope시간+조건유지시간 동안 로봇이 후진할 거리를 설정합니다. 속도는 거리와 시간에 의해 자동으로 결정됩니다.

(9) Retract 시간: [  0] (범위: 0.0 ~ 10.0)  
    용접 종료 처리가 끝난 후 로봇이 다음 이동을 수행하면서 와이어를 되감을 시간을 설정합니다. 간섭 등에 의해 와이어가 휘어지거나 다음 스텝 시작 시 와이어 접촉 상태로 용접이 시작되는 것을 방지하기 위한 경우 사용합니다.

(10) Retract 속도: [  0] (범위: 0 ~ 100)  
    용접 종료 시 와이어를 되감는 처리를 할 때 와이어 송급속도를 지정합니다. 용접기의 최대 전류에 대한 비율로 설정합니다.
# 5.5 용접 보조 조건# 5.5.1 용접 보조 조건 - 재시도


Arc 용접을 시작할 때 모재의 용접 시작점 부근에 부착된 이물질 등의 원인으로 Arc 불꽃이 발생하지 못하는 경우가 있습니다. 재시도(Retry)기능은 이와 같은 Arc점화 실패 시 자동으로 Arc의 점화를 재시도 하여 로봇의 정지 없이 연속작업을 가능하게 하는 기능입니다.

Arc용접 설정이 디지털일 때 용접시작조건 대화상자에서 [보조조건] 키를 누르면 다음과 같은 용접 보조 조건 편집화면이 나타납니다.

  
<p align="center">
 <img src="../../_assets/5_7.png" width="70%"></img>
 <em><p align="center">그림 5.7 용접보조조건(재시도) 설정(EWM 용접기)</p></em>
</p>

 {% hint style="info" %}
[참고 사항]   
재시도 기능은 Arc 점화 시도 후 점화에 실패했을 때 수행되는 기능이고, 재기동 기능은 Arc 용접 중 용접이 중단된 후 다시 재개될 때 수행되는 기능입니다. 
{% endhint %}


[그림 5.7]의 좌측 항목은 용접 보조조건 중 재시도 조건을 나타냅니다. 재시도 조건의 각 항목별 내용은 다음과 같습니다.

(1)	RETRACT시간: [0] 초 (범위: 0.00 ~ 10.00)  
    재시도는 와이어를 송출하여 용접을 시도한 후에 Arc가 발생 않았을 때 진행됩니다. 그렇기 때문에 재시도 할 때 와이어가 과도하게 송출된 상태일 수 있습니다. 이럴 경우 와이어가 모재와 접촉하여 용착이 발생하거나 모재와 너무 근접하여 Arc 발생이 불안정할 수 있습니다. 그렇기 때문에 재시도 전 와이어를 retract하여 용접에 적합한 환경을 만드는 기능을 지원합니다. 이 설정은 와이어를 retract할 시간을 지정하는 것입니다. 이 값이 0이 아닐 경우 와이어를 retract한 후 토치를 이동하고, 이후 Arc 발생을 시도 합니다. 

(2)	RETRACT속도: [10] % (범위: 0 ~ 100)  
    재시도 할 때에 와이어를 retract하는 속도입니다. 용접기에 따라 지원되지 않을 수 있습니다. (Ex. Saprom 용접기)

(3)	횟수: [5] 회 (범위: 0 ~ 9)  
    Arc점화 실패 후 재시도할 횟수를 지정합니다. 지정된 횟수 내에 Arc 점화를 성공하지 못하면 원점(처음 Arc점화 시도지점, 용접 시작점)으로 복귀 후 정지합니다.  

(4)	재시도조건: [0] (범위: 0 ~ 32)  
    Arc 점화를 재시도 할 때 사용할 용접조건의 번호를 입력합니다. 재시도 시 입력된 용접시작조건의 본 조건(전류, 전압 등)으로 용접을 수행하게 됩니다. 단, 입력된 조건번호가 “0” 인 경우와 동작모드가 재진입인 경우 현재 실행중인 용접시작조건의 본 조건으로 재시도 용접이 수행됩니다.

(5)	동작모드: <재진입, 시프트, 다방향>  
    재시도를 위해 토치를 이동시키는 방법을 설정합니다. 3가지 설정을 지원하며 설정에 따른 토치 이동 방법은 다음과 같습니다. [그림 5.10]을 참고하여 주십시오.
    
- A. 재진입  
    Arc발생 실패 시 직전 스텝으로 스텝 후진한 후 다시 Arc발생을 시도합니다. 그 이동거리는 용접보조조건 재시도 설정 메뉴에서 ‘후퇴/용접선 이동’거리로 설정합니다. 일정거리 스텝 후진 후 다시 스텝전진하기 때문에 전압/전류 조건은 용접시작 조건을 따릅니다.

- B. 시프트  
    용접보조조건의 재시도 조건에서 설정된 시프트 이동 량만큼 이동 후 Arc발생 스텝으로 복귀합니다. 시프트 거리는 용접선을 기준으로 전/후, 좌/우, 상/하 방향으로 설정할 수 있습니다. 재시도 시 용접 조건은 재시도조건 항목의 용접시작조건입니다. Arc발생이 성공하면 Arc를 유지하면서 설정된 속도로 용접 시작점으로 이동한 후 용접을 진행합니다.

- C. 다방향  
    용접보조조건의 재시도 조건 중 ‘시프트 이동량’에서 설정된 이동거리 중 전/후만큼 용접 선을 따라 이동 후 1차 시도를 합니다. 2차 시도는 좌/우, 상/하에서 설정된 거리까지 감안한 거리로 이동하여 수행합니다. 3차 시도는 2차 시도에서 좌/우 위치만 반대로 이동하여 용접을 시도합니다. 4~6차 시도는 1~3차 시도보다 2배 거리에서 같은 작업을 수행하며 7~9차 시도는 3배 거리에서 같은 작업을 시도합니다. 재시도 조건 항목의 용접시작조건으로 용접을 시작하며 Arc발생이 성공하면 Arc를 유지하면서 설정된 속도로 용접 시작점으로 이동한 후 용접을 진행합니다.

(6)	속도: [100]cm/분 (범위: 1 ~ 999)  
    재시도 할 때 토치가 재시도 위치로 이동하거나 용접시작점으로 복귀하는 속도입니다.

(7)	후퇴 이동 거리: [3] mm (범위: 0.00 ~ 99.99)   
    동작모드가 재진입으로 설정 시, 재시도 할 때에 토치를 이동시키는 거리입니다. 동작모드 설정은 시작조건에서 지정합니다. 

(8)	시프트 이동 량: 전/후=[2], 좌/우=[2], 상/하=[1] mm (범위: -99.9 ~ 99.9)  
    동작모드가 시프트, 다방향으로 설정된 경우, 토치가 이동하는 거리입니다. 
    

<p align="center">
 <img src="../../_assets/5_8.png" width="80%"></img>
 <em><p align="center">그림 5.8 재시도 기능 순서</p></em>
</p>

# 5.5.2 용접 보조 조건 - 재기동

Arc 용접 진행 중에는 Arc 꺼짐, 용접 전류 및 전압의 제한치 초과, 가스 압력 저하, 와이어 부족, 냉각수 에러 등으로 인해 용접이 중단될 수 있습니다. 이 때 용접이 정지된 지점에서 다시 용접을 시작하면 용접이 안된 부분이 발생할 수 있습니다. 재기동 기능은 이러한 경우 용접이 수행되지 않은 부분을 보완하기 위해 오버랩하여 용접을 수행하는 기능입니다.

재기동 조건설정에서는 Arc 꺼짐 등 특정 원인에 의해 용접이 중단된 후 재기동 할 때 재기동 방법 대해 설정합니다. 용접이 중단된 이후 별도의 조치 없이도 용접작업을 자동으로 재기동하거나 중단 원인을 제거한 후 다시 기동하면 일정 거리만큼 용접선을 따라 역방향으로 이동한 후 용접을 시작합니다. 결과적으로 에러가 발생하여 용접이 중단된 위치 근처에서는 용접 수행이 중복되는 오버랩 구간이 생기게 됩니다. 이를 통하여 용접 중단 후 재기동을 할 때 용접이 안된 부분이 생기는 것을 막을 수 있습니다.

 
<p align="center">
 <img src="../../_assets/5_9.png" width="70%"></img>
 <em><p align="center">그림 5.9 용접보조조건(재기동) 설정(EWM 용접기)</p></em>
</p>



자동용착해제 조건은 용접 종료 후 와이어가 모재에 용착 되었을 때, 이를 자동으로 해제하는 기능에 대한 설정입니다.

자동 용착해제 조건의 각 항목별 내용은 다음과 같습니다.

(1)	RETRACT시간: [0] 초 (범위: 0.00 ~ 10.00)  
    용접 중에 용접이 중단되어 재기동을 할 때 다양한 이유로 와이어가 과도하게 송출된 상태일 수 있습니다. 이럴 경우 와이어가 모재와 접촉하여 용착이 발생하거나 모재와 너무 근접하여 Arc 발생이 불안정할 수 있습니다. 그렇기 때문에 재기동 전 와이어를 retract하여 용접에 적합한 환경을 만드는 기능을 지원합니다. 이 설정은 와이어를 retract할 시간을 지정하는 것입니다. 이 값이 0이 아닐 경우 와이어를 retract한 후 토치를 이동하고, 이후 Arc 발생을 시도 합니다.

(2)	RETRACT속도: [10] % (범위: 0 ~ 100)  
    재기동 할 때에 와이어를 retract하는 속도입니다. 용접기에 따라 지원되지 않을 수 있습니다. (Ex. Saprom 용접기)

(3)	재기동 횟수: [5] 회 (범위: 0 ~ 9)   
    동일용접 구간에서 재기동 처리의 최대 반복 횟수를 지정합니다. 이 횟수를 초과하면 “E1274 동일 용접구간 내 재기동 횟수 초과” 에러가 발생합니다.

(4)	재기동 조건: [0] (범위: 0 ~ 32)   
    재기동 할 때 오버랩 구간에서 사용할 용접조건의 번호를 입력합니다. 오버랩 하여 재기동 할 때 입력된 용접시작조건의 본 조건(전류, 전압 등)으로 오버랩 구간에서 용접을 수행하게 됩니다. 단, 입력된 조건번호가 “0” 인 경우 오버랩 구간에서부터 현재 실행중인 용접시작조건의 본 조건으로 용접이 수행됩니다.

(5)	중첩 량: [5] mm (범위: 0.0 ~ 99.9)  
    재 기동 할 때 용접을 중첩하는 길이(오버랩 거리)입니다. 중첩 길이만큼 되돌아 간 후 다시 용접을 시작합니다. 

(6)	이동속도: [ 50] mm/초 (범위: 1~999)  
    오버랩을 시작하는 위치로 토치를 이동 시키는 속도를 설정합니다. [그림 5.13]의 ③~④ 구간의 이동 속도를 의미합니다. (그림 5.10 참조)

(7)	용접속도: [ 50] cm/분 (범위: 1~999)  
    오버랩 시작 위치에서 종료 위치까지 중첩 용접을 할 때 로봇의 이동 속도를 설정합니다. [그림 5.10]의 ④에서 오버랩 거리만큼 용접하며 이동할 때의 속도입니다. (그림 5.10 참조)

용접시작점에서 용접종료점(⑤)으로 용접 진행 중 에러가 발생한 경우, 오버랩 조건이 반자동이면 사용자는 용접이 정지된 원인을 파악하고 에러를 처리합니다(①). 에러 요인 제거 후(②) [START]버튼을 눌러(③) 용접을 재개할 경우 로봇은 자동으로 오버랩 시작 위치로 [이동속도]에 설정된 속도로 이동합니다(④). 이동 후 오버랩 거리만큼 [용접속도]에 설정된 속도로 용접을 하며 그 이후에는 정상 속도로 용접을 하며 이동합니다. 단, 오버랩 구간 용접 중 에러가 발생한 경우는 다시 오버랩 하지 않고 그 지점에서 바로 용접을 시작합니다. 

(8)	오버랩 조건설정  
    [그림 5.11]의 우측 하단 항목은 Arc 용접 중 ArcOff(Arc꺼짐), Limit 초과, 가스Off(가스 압력 저하), 와이어Off(와이어 부족), 냉각수Off(냉각수 에러) 등의 원인으로 용접이 중단되었을 때 오버랩을 수행할 방법에 대해 설정합니다.  
    
-  A. 자동  
    자동으로 오버랩을 수행하는 설정입니다. 해당 설정은 Arc 꺼짐에 의해 용접이 중단된 경우에만 설정할 수 있습니다. 용접 중 Arc 꺼짐이 발생한 경우 정지하지 않고 용접보조조건의 재기동 항목에 설정된 방법으로 오버랩 용접을 수행한 후 본 작업을 진행합니다. 단, 오버랩 구간 용접 중 다시 Arc가 꺼지는 경우는 그 위치에서 바로 용접을 시작합니다.

- B. 반자동  
    사용자에 의해 오버랩을 수행하는 설정 입니다. Arc 꺼짐, 제한치 초과, 가스 압력 저하, 와이어 부족, 냉각수 에러가 발생할 경우 용접이 중단되고 로봇 본체도 정지합니다. 이후 원인 제거 후 사용자가 [기동]을 누르면 용접보조조건의 재기동 항목에 설정된 방법으로 오버랩 용접을 수행한 후 본 작업을 진행합니다. 이때 로봇을 조그동작을 통하여 다른 위치로 이동시킨 후 [기동]을 누르면 오버랩 용접위치로 바로 이동 후 용접을 수행합니다.

{% hint style="warning" %}
[**주의**]  
로봇 이동 시 스텝 전/후진키를 누르면 재기동 정보가 초기화되어 오버랩이 수행되지 않습니다. 반드시 조그 동작으로만 이동하십시오.
{% endhint %}

- C. 무시  
    에러를 무시하는 설정입니다. 해당 설정을 활성화하면 용접 중단 후 로봇이 정지하지 않고 계속 진행합니다. 즉 Arc가 꺼지거나 제한치를 초과해도 무시하고 계속 진행됩니다. 이 처리 방법은 Arc 꺼짐, 제한치 초과의 원인으로 용접이 중단 후 재기동하는 경우에만 가능합니다.

- D. 금지  
    오버랩을 금지하는 설정입니다. Arc 꺼짐, 제한치 초과, 가스 압력 저하, 와이어 부족, 냉각수 에러가 발생할 경우 용접이 중단되고 로봇 본체도 정지합니다. 이후 원인 제거 후 [기동]을 누르면 오버랩 동작을 하지 않고 로봇이 정지한 위치에서 용접을 시작하고 진행됩니다.

 
<p align="center">
 <img src="../../_assets/5_10.png" width="80%"></img>
 <em><p align="center">그림 5.10 재기동 동작 과정</p></em>
</p>

 
# 5.5.3 용접 보조 조건 –자동 용착해제

Arc 용접 종료 시 와이어가 모재에 용착되는 경우가 있습니다. 용접기에서는 이를 현상을 방지하기 위해 용접 종료 시 일시적으로 전압을 상승시키는 용착 방지 처리를 합니다. 용접기에서 이런 용착 방지 처리를 한 후에도 용착이 되는 경우가 있기 때문에 로봇 제어기에서도 용접 후 용착 검사 신호를 용접기로 전송하여 용착 여부를 확인합니다. 
자동 용착 해제 기능은 이렇게 용접 후에 용착이 검출될 때 자동으로 용착 해제를 수행하여 로봇이 정지하지 않고 연속적으로 작업할 수 있게 하는 기능입니다. 이 기능을 이용하면 용착 검출 시 즉시 일정 전압을 인가하는 용착 해제 처리가 자동으로 이루어집니다. 자동 용착 해제 시도는 설정된 횟수만큼 반복되며, 설정된 횟수를 초과할 때까지 용착이 해제되지 않는 경우 『용착 중』 신호를 출력하고 로봇은 정지하게 됩니다.

Arc용접 설정이 디지털이고 『[용접시작조건] → [용접종료조건]』대화상자에서 [보조조건]키를 누르면 다음과 같은 자동 용착해제 설정화면이 나타납니다. 

 
<p align="center">
 <img src="../../_assets/5_11.png" width="70%"></img>
 <em><p align="center">그림 5.11 자동 용착해제 설정</p></em>
</p>


</br>

자동 용착해제 조건의 각 항목별 내용은 다음과 같습니다.

(1)	횟수: [2] 회 (범위: 0 ~ 9회)  
    용착해제 처리의 최대 반복 횟수입니다. 설정된 횟수 이내에 용착이 해제 되지 않을 경우에는 용착 에러(“E1262 와이어 스틱 검출 중”)가 발생합니다. 예외적으로 0으로 설정하면 용착 검사를 하지 않고 바로 다음 스텝으로 이동합니다.

(2)	용착해제조건: [0] (범위 : 0 ~ 32)  
    용착 해제 처리할 때 사용할 용접조건의 번호입니다. 입력된 조건번호가 “0” 인 경우 현재 실행중인 용접시작조건의 본 조건으로 용착 해제가 수행됩니다.

(3)	조건유지시간: [2] sec (범위 : 0.00 ~ 10.0)  
    용착 해제 조건의 출력을 유지하는 시간입니다. 너무 짧으면 용착 해제가 되지 않습니다.

# 6. 위빙 기능 (WEAVING)
# 6.1 위빙 기능

위빙 기능은 Arc 용접에서 용접비드 폭을 넓게 하기 위하여 사용하는 기능입니다. 위빙 기능의 세부사항은 위빙조건과 참조점으로 결정됩니다. 위빙조건에서는 다음과 같은 사항을 설정할 수 있습니다.# 6.1.1 위빙 조건

```weaving ... ``` 명령어 위에 커서가 있을 때, [quick open]키를 누르면 다음과 같은 위빙 조건 편집화면이 나타납니다.

 
<p align="center">
 <img src="../../_assets/6_1.png" width="70%"></img>
 <em><p align="center">그림 6.1 위빙조건 설정</p></em>
</p>



---

위빙 조건의 각 항목별 내용은 다음과 같습니다.

(1)	조건 번호: [1] (범위: 1~ 32)  
    위빙 동작의 설정이 저장된 조건 번호입니다. [+], [-] 버튼을 눌러 조건을 추가하거나 삭제할 수 있습니다. 현재 번호의 이전 또는 이후 조건 번호로 이동하여 해당 조건 번호를 편집 할 수 있습니다.

(2)	위빙 형태: <단진동, 삼각, L형, 원형>    
    위빙 동작의 형태를 지정합니다. ([[6.1.2 위빙 형태]](../1_Weaving_function/2_configuration_.md)  참조)

(3)	주파수: [2] Hz (범위: 0.0 ~ 10.0)  
    위빙 주파수를 설정합니다. 주파수의 범위는 0.0 ~ 10.0Hz 입니다. 주파수가 ‘0’으로 설정된 경우 이동시간을 적용합니다. ([[6.1.3 주파수]](../1_Weaving_function/3_frequency.md) 참조)  

(4)	기본패턴  
    위빙 동작의 패턴을 설정합니다. ([[6.1.4 기본 패턴]](../1_Weaving_function/4_pattern.md) 참조)  
- 벽방향 거리 : [2.5] (범위 : 1.0 ~ 25.0mm)  
- 타방향 거리 : [2.5] (범위 1.0 ~ 25.0mm)  
- 각도       : [90] (범위 : 0.1 ~ 180.0도)  
- 벽방향     : <수직방향, 수평방향, 토치자세기준>  
- 옵셋 각도: 토치 자세 기준 사용 시 토치 위치로부터 좌, 우로 기울어 지는 각도 지정

(5)	진행 각도: [0] (범위 : -90.0 ~ 90.0도)  
    진행 방향에 대한 위빙 각도 방향을 나타냅니다. 0도 인 경우 진행방향과 위빙방향은 직각을 이룹니다. ([[6.1.4 기본 패턴]](../1_Weaving_function/4_pattern.md) 참조)

(6)	경계 제한: <유효, 무효>  
    위빙궤적이 용접시작 및 끝 부분의 경계부분에 의해 제한되는지 여부를 설정합니다. 본 기능이 유효이면 위빙 궤적은 용접 구간 안에 제한됩니다. ([[6.1.4 기본 패턴]](../1_Weaving_function/4_pattern.md) 참조)

(7)	위빙 정지 시 로봇 동작: <이동, 정지>  
    위빙 패턴에서 타이머가 설정되는 경우 위빙의 좌우 끝 부분에서 위빙 동작이 정지됩니다. 이 경우 로봇의 동작은 계속 이동할 것인지 정지할 것인지를 설정합니다.

(8)	이동시간: [1] (범위: 0.01 ~ 10.0초), 타이머(위빙 정지): [  0] (범위 : 0.00 ~ 2.00)  
    위빙 주파수가 ‘0’으로 설정된 경우 이동시간으로 위빙을 수행합니다. 이때 각 구간별 이동시간과 구간 사이의 위빙정지시간을 설정합니다. (([[6.1.5 위빙 구간 설정]](../1_Weaving_function/5_weaving_section.md) 참고)
    ‘위빙 주파수’가 설정된 경우에는 ‘타이머(위빙 정지)’ 항목만 설정 가능합니다.
    설정된 주파수의 전체 시간에서 ‘타이머(위빙 정지)’에 설정된 시간을 제외한 시간 동안 로봇이 위빙 동작을 하며 위빙 정지 시간 동안은 위빙이 정지합니다. 위빙 정지 중 로봇의 이동 여부는 ‘위빙 정지 시 로봇 동작’ 설정이 적용됩니다. 

(9)	위빙 구동 축: <로봇, 부가축>, 부가축 번호: [1]  
    위빙 동작을 수행할 부분이 로봇인지 부가축인지를 설정합니다. 부가축으로 설정되는 경우 로봇은 기록된 대로 그대로 이동하며 부가축만 설정 거리와 주파수만큼 움직이며 위빙을 구현합니다. 부가축을 선택하는 경우 ‘부가축 번호’ 항목에 지정된 부가축이 동작하여 위빙을 수행합니다.
# 6.1.2 위빙형태 

다음 그림과 같은 위빙의 패턴 모양을 설정합니다. 

 
<p align="center">
 <img src="../../_assets/6_2.png" width="60%"></img>
 <em><p align="center">그림 6.2 위빙 패턴 종류</p></em>
</p>

# 6.1.3 주파수

「주파수」는 위빙의 반복주기를 의미하며, 「주파수」를 ‘0’으로 지정하면 반복주기를 「주파수」방식이 아닌 이동시간 지정방식으로 설정합니다. 반복 주기를 「주파수」방식으로 지정하기 위해서는 ‘0’이 아닌 값으로 설정해야 합니다. 

주파수는 횡방향, 종방향 거리에 관계가 있습니다. 주파수가 클수록 이동 가능한 횡방향, 종방향 거리가 줄어들어 진폭의 크기는 줄어들고, 반대로 주파수가 작을수록 진폭을 크게 할 수 있습니다. 위빙형태가 삼각파일 경우 횡방향 이동시간과 종방향 이동시간의 합은 대각선 방향의 이동시간과 같습니다.
 
# 6.1.4 기본 패턴

다음 그림에서의 각 요소를 설정합니다. 
  
<p align="center">
 <img src="../../_assets/6_3_1.png" width="60%"></img>
</p>

<p align="center">
 <img src="../../_assets/6_3_2.png" width="45%"></img>
 <em><p align="center">그림 6.3 벽방향에 따른 위빙 요소</p></em>
</p>


(1)	좌방향 거리
    좌(벽)방향(左각장)의 거리를 설정합니다.

(2)	우방향 거리
    우방향(右각장)의 거리를 설정합니다.

(3)	각도
    그림 6.3과 같이 좌(벽)방향과 우방향의 각도를 설정합니다. 각도는 좌(벽)방향에서부터 우방향까지로 나타냅니다. 단, REFP 4를 사용할 경우 이 각도는 무시됩니다.
    
(4)	벽방향 ([그림 6.3] 참고)
    좌(벽)방향을 수직(그림(1)), 수평(그림(2)), 토치자세기준(그림(3)) 중 어느 것으로 할 것인지 설정합니다. 일반적으로 좌(벽)방향은 수직방향으로 사용하며 수평방향은 평면상에서 각도가 180도인 위빙에 주로 사용합니다. 토치자세기준 위빙의 좌(벽)방향은 위빙 진행방향(그림 (3)의 진행방향은 나오는 방향, ⊙)을 기준으로 반시계방향으로 설정됩니다. 토치자세기준 위빙의 경우 모든 좌(벽)방향에 대한 대응이 가능하고 위빙 진행 중 좌(벽)방향이 바뀌는 경우에도 대응할 수 있습니다.

(5)	옵셋각도([그림 6.3] 참고)
    벽방향을 토치자세기준으로 설정한 경우 위빙면을 위빙 진행방향(그림 (3)의 진행방향은 나오는 방향, ⊙) 기준으로 회전하는 각도를 설정합니다. 0도 설정 시 좌(벽)방향과 우방향의 각도를 이등분합니다.


(6)	진행 각도
    용접선에 대한 위빙 진동 방향의 각도입니다. 설정 가능한 범위는 -90.0 ~ 90.0도입니다. 0도 설정 시 용접선과 직각으로 위빙이 동작합니다.

<p align="center">
 <img src="../../_assets/6_4.png" width="60%"></img>
 <em><p align="center">그림 6.4 위빙 진행 각도</p></em>
</p>

    

(7)	경계제한
    진행각도가 0도가 아닌 위빙은 위빙 구간의 시작 밑 끝 부분에서 구간 경계를 넘어가는 경우가 발생할 수 있습니다. 경계제한 설정으로 구간 경계를 제한하여 구간 경계를 넘어가지 않게 위빙 동작을 수행할 것인지 제한 없이 위빙 동작을 수행할 것인지를 설정합니다.

 
<p align="center">
 <img src="../../_assets/6_4_1.png" width="60%"></img>
 <em><p align="center">그림 6.4.1 위빙 경계 제한</p></em>
</p> 
# 6.1.5 위빙 구간 설정

(1)	위빙 정지 시 로봇 동작

위빙 구간에 타이머(위빙 정지)가 0이 아닌 값이 설정되는 경우 해당 시간동안 위빙 구간 끝 부분에서 위빙 패턴이 정지합니다. 이 상태에서 로봇의 이동 여부를 설정합니다.

이동 설정 시 하기 그림의 좌측과 같은 동작을 수행하며 정지 설정 시 우측과 같은 동작을 수행합니다.
 
<p align="center">
 <img src="../../_assets/6_4_2.png" width="40%"></img>
 <em><p align="center">그림 6.4.2 위빙 정지시 로봇 동작</p></em>
</p> 

(2)	이동시간

「주파수」값을 ‘0’으로 지정했을 때 위빙 반복주기 설정에 사용되는 항목입니다. 다음 그림과 같이 구간별 이동시간을 개별적으로 지정합니다. 위빙에 사용되는 구간은 위빙의 형태에 따라 달라지게 됩니다. 따라서 설정된 위빙형태에서 사용되지 않는 구간(Ex. 단진동의 경우 3, 4번)에 설정된 이동시간은 무시됩니다.

<p align="center">
 <img src="../../_assets/6_5.png" width="90%"></img>
 <em><p align="center">그림 6.5 위빙 패턴별 이동구간</p></em>
</p> 



(3)	타이머

아래 그림과 같이 각 구간 끝점에서의 위빙 정지 시간을 설정합니다. 이 항목은 위빙의 주파수가 설정된 경우에도 적용됩니다.

위빙의 주파수가 설정된 경우 위빙 주기 중 로봇의 이동 시간은 다음과 같이 설정됩니다.

로봇 이동 시간 = (1 / 위빙 주파수) – 타이머 시간 총합


주의) ‘위빙 정지 시 로봇 동작’이 ‘이동’으로 설정되는 경우 이동 궤적이 정지하는 것이 아닙니다.
아래 그림의 직선 형태가 됩니다. 
 
 
<p align="center">
 <img src="../../_assets/6_6.png"  width="40%"></img>
 <em><p align="center">그림 6.6 타이머 지정 시 궤적 예시</p></em>
</p> 



{% hint style="warning" %}
[**주의**]  
‘위빙 정지 시 로봇 동작’이 ‘정지’로 설정되는 경우 이동 궤적까지 함께 정지합니다. 이 경우에도 로봇의 이동 속도는 동일합니다.
{% endhint %}# 6.2 참조점 기능

위빙을 수행하기 위해서는 [[6.1 위빙기능(Weaving)]](../1_Weaving_function/README.md)에서 설명한 위빙 형태의 궤적이 생성될 위치를 결정하기 위한 위빙 좌표계가 필요합니다. 설정된 위빙 좌표계는 위빙 기능의 세부 조건을 설정하기 위하여 사용됩니다. 기본적으로 위빙 동작을 시작할 때 로봇 좌표계의 Z축을 벽방향으로 하고, 용접 시작점으로 접근하는 포즈의 위치와 용접구간에서 토치의 진행방향을 이용하여 위빙 좌표계(직각 좌표계)가 자동으로 생성됩니다. 하지만 용접 시작점으로 접근하는 포즈의 위치와 모재의 형태, 위치 등에 따라 위빙 좌표계를 생성할 수 없거나 기본적으로 설정된 위빙 좌표계에 수정이 필요한 경우(예. 벽방향과 타방향의 각도가 90도가 아닌 경우)가 있습니다. 이러한 경우 참조점 기능을 이용하면 원하는 위빙 좌표계를 생성하여 위빙 형태를 모재에 일치시킬 수 있습니다.

 

{% hint style="info" %}
[**참고**]  
위빙 조건 중  [기본 패턴] → [벽방향] 설정을 ‘토치자세기준’으로 설정하는 경우 ```refp 3``` (참조점 3) 이외의 ```refp``` 명령문은 사용하지 않습니다.
{% endhint %}# 6.2.1 참조점 종류

 
<p align="center">
 <img src="../../_assets/6_7.png" width="50%"></img>
 <em><p align="center">그림 6.7 위빙 좌표계</p></em>
</p> 




(1)	refp 1 (참조점 1)  
    ```refp 1```은 위빙 좌표계의 벽방향을 지정하는 명령어입니다. 특별히 벽방향을 지정하지 않는 경우 로봇은 수직방향을 벽방향으로 하여 위빙 동작을 실행합니다. 따라서 벽방향이 수직이 아닌 경우 이 명령을 통하여 벽방향을 지정해야 합니다. 
    사용 방법: 작업물의 벽방향 면 위의 한 점을 refp 1로 기록합니다. 이 점과 용접선(직선ⓢⓔ)으로 벽방향 면을 결정할 수 있습니다. refp 1 명령만 사용하는 경우 타방향은 설정된 벽방향을 진행방향 기준으로 기본패턴 각도만큼 회전한 방향으로 설정됩니다.

(2)	refp 2 (참조점 2)  
    ```refp 2```는 벽방향을 결정하는 평면(벽방향을 포함하는 평면)을 기준으로 하여 해당 평면의 양쪽 공간 중 어느 쪽에 위빙궤적을 생성할 것인지를 설정하는 명령어입니다. 
    사용방법: 위빙을 수행할 면 쪽의 공간 상 임의의 점을 refp 2로 기록합니다. [그림 6.8]은 두 모재 사이의 공간 상에 참조점 2를 기록했을 때 설정되는 위빙 좌표계의 예시입니다. refp 2 명령만 사용하는 경우 로봇 좌표계의 Z축을 벽방향으로 하여 타방향이 설정됩니다.  

(3)	refp 3 (참조점 3)  
    ```refp 3```은 로봇은 정지하고 포지셔너만 회전하는 정지위빙에서 위빙의 진행방향을 지정하는 명령어입니다.
    사용방법: 로봇이 정지하고 있는 위치에서 진행방향을 나타내는 직선 상의 임의의 점을 REFP 3으로 기록합니다. 로봇은 용접 시작점과 refp 3로 이루어진 선의 수직방향으로 위빙을 합니다.
    사용 예: refp 3 교시 후 용접 시작 스텝과 종료 스텝의 위치를 동일하게 교시. 이동속도는 시간으로 지정. (주의: 이 때 REFP 3이 지정되어 있지 않은 경우 위빙을 하지 않고 에러가 발생합니다.)  

(4)	refp 4 (참조점 4)  
    ```refp 4```는 벽방향과 타방향의 각도를 설정하는 명령어 입니다. [그림 6.8]은 90도로 설정했을 때의 예시입니다. 이 명령어를 이용하여 각도를 지정하는 경우 [기본 패턴]  [각도]에서 설정한 값은 무시됩니다.

    
<p align="center">
 <img src="../../_assets/6_8.png" width="65%"></img>
 <em><p align="center">그림 6.8 위빙 방향과 참조점</p></em>
</p> 
    

 <p align="center">
 <img src="../../_assets/6_9_1.png" width="65%"></img>
 <img src="../../_assets/6_9_2.png" width="65%"></img>
 <em><p align="center">그림 6.9 참조점 종류별 활용</p></em>
</p>   

    


    
{% hint style="info" %}
[**참고**]  
- refp 1: 용접선과의 거리는 최소 5mm 이상으로 설정하십시오.  
- refp 2: 벽 방향 평면과의 거리는 최소 5mm 이상으로 설정하십시오.  
- refp 3: 시작점과의 거리가 최소 5mm 이상이 되도록 설정하십시오.  
- refp 4: 위빙 패턴의 각도를 측정하기 어려운 경우 각도를 지정합니다.
{% endhint %}# 6.2.2 참조점 편집

(1)	참조점 기록 (숨은 포즈 방식)  
 -    ①	Jog키로 참조점을 기록할 위치로 이동합니다
 -    ②	커서를 참조점이 기록될 위치(통상 ```weaving on``` 명령 바로 위쪽 스텝)로 이동합니다.
 -    ③	[사용자키] → [REFP]키를 눌러 참조점을 기록(포즈변수 입력)합니다.

(2)	참조점 기록 (포즈변수 입력 방식)  
 -    ①	[명령입력] → [아크] → [REFP]를 눌러 참조점 명령을 기록합니다.
 -    ②	사용할 참조점의 종류에 따라 참조점 번호를 입력합니다.
 -    ③	참조점 위치로 사용할 포즈변수를 입력합니다.

(3)	참조점 이동  
    참조점은 위빙 형태를 결정하기 위한 위치이므로 통상 재생 시에는 참조점으로 이동하지 않습니다. 그러나 참조점의 위치 확인 및 변경 시에는 다음의 과정을 수행합니다.
 -    ①	커서를 참조점 명령에 위치시킵니다.
 -    ②	스텝 전진키를 누르면 참조점으로 이동합니다.

 이 때 보간 종류는 직선으로 하고, 이동속도와 툴, ACC등은 위빙구간 시작 스텝에 기록되어 있는 조건을 이용합니다.

(4)	참조점 위치 수정 (숨은 포즈 방식 용)  
 -    ①	커서를 참조점 명령에 위치시킵니다. 
 -    ②	Jog 키를 이용하여 변경할 참조점의 위치로 이동합니다. 
 -    ③	[SHIFT] + [위치수정]키를 누르면 참조점의 위치가 변경됩니다. 

(5)	참조점 명령 삭제  
 -    ①	커서를 참조점 명령에 위치시킵니다. 
 -    ②	[SHIFT] + [DEL]키를 누르면 참조점의 명령이 삭제됩니다. 

(6)	참조점 번호 수정  
 -    ①	커서를 참조점 명령에 위치시킵니다. 
 -    ②	[ENTER]키를 누릅니다.
 -    ③	새로운 참조점 번호를 입력하고 [ENTER]키를 누릅니다. 
 -    ④	[ENTER]을 다시 한번 누르면 참조점 번호가 변경됩니다. 
# 7. 용접 데이터 모니터링

Arc 용접 실행 중에 로봇 제어기에서 용접기로 전송되는 전류/전압 지령치와 실제로 용접기에서 로봇 제어기로 보내는 전류/전압 현재치를 확인할 필요가 있는 경우가 있습니다. 이때 다양한 Arc 용접 데이터 모니터링 기능을 이용하여 Arc 용접 중에 용접 관련 데이터를 실시간으로 확인할 수 있습니다.

</br>

당사 제어기에서는 용접 데이터 모니터링을 위해 3가지 타입의 모니터링 기능을 제공합니다.

- (1) 세부 정보 모니터링: 제공하는 모든 데이터 확인 가능  

- (2) 대화면 모니터링: 제공하는 데이터의 일부를 큰 글씨로 확인 가능  

- (3) 용접파형 모니터링: 용접 전류/전압의 파형 및 관련 데이터 확인 가능  


3 가지 모니터링 기능은 모니터링 창에서 다른 모니터링 창으로 변경 가능합니다.
# 7.1 Arc 용접 데이터 실시간 모니터링

# 7.1.1 세부 정보 모니터링

본 기능은 Arc 용접과 관련된 세부 데이터를 확인할 수 있는 기능입니다. 설정된 용접기에 따라 제공하는 정보가 다르기 때문에 해당 모니터링 창은 설정된 용접기에 따라 다를 수 있습니다. 용접기와 통신 오류가 발생하거나 통신 연결이 되어 있지 않은 경우 ‘용접기 에러코드’나 ‘용접기 통신상태’ 항목이 붉은색 배경으로 표시됩니다. 세부정보 모니터링으로 다음과 같은 데이터를 확인할 수 있습니다.

<p align="center">
 <img src="../../_assets/7_1.png" width="70%"></img>
 <em><p align="center">그림 7.1 Arc용접 세부 정보 모니터링</p></em>
</p>

(1)	현재 용접기에서 출력되고 있는 실제 용접 전류(A)

(2)	용접 전류 제한 치, Arc제한 감시기능을 사용하지 않는 경우 ‘---’로 표시

(3)	로봇에서 용접기로 출력하는 지령 용접 전류(A)

(4)	1초 동안 Arc단락횟수

(5)	현재 용접기에서 출력되고 있는 실제 용접 전압(V)

(6)	용접 전압 제한 치, Arc제한 감시기능을 사용하지 않는 경우 ‘--.- ‘로 표시

(7)	로봇에서 용접기로 출력하는 지령 용접 전압 옵셋값(V)

(8)	옵셋값+시너직 전압 즉, 목표 출력 전압(V)

(9)	실제 피딩모터를 구동하는 전류값(A)

(10) 피딩모터 Arc제한 감시기능을 사용하지 않는 경우 ‘--.-‘로 표시(A)

(11) 피딩모터 회전속도(rpm)

(12) T: 명령송신횟수, R: 명령수신횟수

(13) R: 재시도횟수, B: Busy검출횟수, N: NG횟수, E: 에러횟수

(14) 용접기 에러코드

(15) 용접기로 전달된 시너직 코드

(16) 용접진행단계
# 7.1.2 용접파형 모니터링

용접파형 모니터링은 용접 데이터의 파형과 관련된 정보를 표시하여 용접 데이터의 순간적인 정보뿐만 아니라 과거 정보도 한 눈에 알아볼 수 있게 합니다. 용접기에서 송신하는 전류와 전압을 필터링하여 그 파형을 보여주며, 용접 1회(arcon~arcoff) 동안 계산된 전류/전압의 평균과 편차를 보여줍니다. 또한 용접시작조건에 설정된 전류/전압의 상/하한 값과 그 상/하한을 초과한 시간을 보여줍니다.

용접파형 모니터링은 오랜 시간 동안 다양한 용접을 세밀하게 제공하기 위해 파형의 확대와 축소 그리고 좌/우 이동 기능을 제공합니다. 파형의 이동으로 최대 100초 이전의 파형을 확인할 수 있으며, 0 ~ 500A, 0 ~ 50V의 파형을 확인할 수 있습니다. 조작 방법은 [[7.1.3 조작]](../1_Realtime_monitoring/3_operation.md)을 참고하시기 바랍니다.

 
<p align="center">
 <img src="../../_assets/7_3.png" width="70%"></img>
 <em><p align="center">그림 7.3 Arc용접 파형 모니터링</p></em>
</p>



(1)	Average: 전류와 전압의 평균값, 용접 1회 동안 누적된 값

(2)	Deviation: 전류와 전압의 편차, 용접 1회 동안 누적된 값

(3)	Limit Overtime: 전류와 전압의 상하한 초과 시간, 용접 1회 동안 누적된 값

(4)	Time/cell: 그래프에 표시된 1 셀의 시간. 현재 4셀이 있으며 총 10초의 용접 결과를 확인할 수 있음

# 7.1.3  조작

용접 데이터 모니터링 화면은 『서비스』→『1: 모니터링』→『13: 아크용접 데이터』를 통하여 선택할 수 있습니다.

다른 방법으로는 기본화면에서 [창조정]키를 이용하여 화면 분할 후 『내용선택』 → 『13: 아크용접 데이터』를 통해서도 선택할 수 있습니다.

모니터링 기능을 수행하면 기본적으로 ‘세부정보 모니터링’이 실행됩니다. 모니터링 기능은 전환이 가능하며 전환 순서는 ‘세부정보 모니터링’→‘용접파형 모니터링’→ ‘대화면 모니터링’ →’세부정보 모니터링’... 순서로 순환합니다.

‘대화면 모니터링’의 자동 pop-up 기능을 사용하기 위해서는 『시스템]』 → 『4: 응용 파라미터』 → 『2: 아크용접』 → 『16: 용접 중 모니터링 자동활성』에서 유효로 설정해야 합니다.

용접 파형 모니터링의 확장 기능은 파형의 현재 시점 대비 과거(좌), 미래(우)와 높은 전류/전압(상), 낮은 전류/전압(하)를 볼 수 있도록 이동 기능을 제공합니다. 해당 방향으로 이동하기 위해서는 파형 모니터링 화면을 터치하여 활성화한 후 티칭 펜던트의 [상/하/좌/우] 커서를 누르면 그래프가 이동합니다. 과거(좌)나 미래(우)로 많은 양의 이동이 필요한 경우 [SHIFT]+[좌] 또는 [SHIFT]+[우]를 누르면 [SHIFT]를 누르지 않을 때에 비해 10배 많은 양을 이동합니다. 
세밀한 파형을 보기 위한 확장은 [SHIFT]+[상]을 누르고, 전체적인 개괄 파형을 보기 위한 축소는 [SHIFT]+[하]를 누르면 됩니다. 과거 데이터를 보는 중 바로 현재 데이터로 이동하기 위해서는 [ENTER]를 누르면 현재 화면으로 복귀합니다.




# 8. Arc 용접 응용기능

당사에서는 Arc 용접의 품질과 안정성 향상을 위해 다양한 응용 기능을 제공하고 있습니다. 이 장에서는 해당 기능들에 간단히 소개를 합니다. 기능별로 별도의 설명서가 있으므로 자세한 설명과 적용을 위해서는 별도의 기능 설명서를 참고하시기 바랍니다.# 8.1 Arc 센싱 기능

본 기능은 두꺼운 재질의 아크용접에서 위빙 기능을 사용할 경우 사용할 수 있는 용접선 추종기능입니다. 본 기능을 이용할 경우 작업물의 공차로 인한 용접선 오차나 작업물의 변형이 있는 경우에도 정확하게 용접선을 따라 작업을 수행할 수 있습니다.

작업물의 위치가 일정하지 않아 용접 불량이 발생하는 경우 터치센싱 기능을 이용하여 정확한 용접시작점을 찾고 Arc센싱기능을 사용하여 용접선을 추종하면 불량 없는 용접품질을 얻을 수 있습니다.

본 기능의 사용을 위해서는 위빙 기능을 반드시 사용해야 하며 센싱 기능을 위한 데이터 입력 설정을 ‘유효’로 선택해야 합니다. 센싱 기능을 위한 데이터 입력 설정의 세부 내용은 ‘1.3 Arc 용접 응용 조건 설정’을 참고하여 주십시오.
# 8.1.1 아크센싱 조건

위빙 파일 조건편집화면에서 두 번째 화면에는 아래와 같은 아크센싱 조건이 나타납니다. 이는 위빙 중에 사용이 가능한 아크센싱에 관한 설정을 하는 부분입니다. 

<p align="center">
 <img src="../../_assets/8_1.png" width="70%"></img>
 <em><p align="center">그림 8.1 아크센싱 조건-일반 대화상자</p></em>
</p>


각 항목별 설정 및 조작방법은 다음과 같습니다.

(1) 아크센싱 기능 활성화: <무효, 유효>  
    아크센싱 기능의 사용 여부를 설정합니다.

(2) 좌우 센싱 민감도: [0 ~ 10]  
    위빙 면에서 좌우 방향 센싱 민감도를 설정합니다.

(3) 상하 센싱 민감도: [0 ~ 10]  
    위빙 면에서 상하 방향 센싱 민감도를 설정합니다.

(4) 좌우 센싱 시작 사이클: [0 ~ 9]  
    위빙 면에서 좌우로 센싱을 시작할 사이클을 설정합니다.

(5) 상하 센싱 시작 사이클: [좌우 시작 사이클+1 ~ 10]  
    위빙 면에서 상하로 센싱을 시작할 사이클을 설정합니다.

(6) 상하 센싱 기준 전류: [0 ~ 3000]  
    상하방향 센싱을 수행할 때 기준이 되는 전류를 설정합니다. 이 설정에 의해 토치 높이가 조정됩니다. 0으로 설정하는 경우 초기 구간 전류의 평균값이 기준이 됩니다. 0으로 설정하는 경우 용접 시작 부위에 가접이 있는 경우 부정확하게 높은 초기 전류가 기준이 되어 토치 충돌이 발생할 수 있습니다.

(7) 아크센싱 타입 선택: <용접선, 전류차, 전류차+Gap>  
    용접선 추종 방식을 선택합니다. 용접선은 정확한 직각 필렛 용접이면서 비대칭 센싱을 사용하는 경우 선택합니다. 일반적인 대칭 아크센싱에서는 전류차 방식을 사용합니다. 전류차+Gap 방식은 센싱 중간에 폭을 자동으로 조정해야 하는 경우 선택합니다.

(8) 실시간 Gap 센싱 민감도: [0 ~ 10]  
    전류차+Gap 방식을 사용할 때 폭의 변동 민감도를 설정합니다. 이 값은 비드 품질 및 폭 변화 정도에 따라 적합한 값을 설정합니다.

</br>

---
아크센싱 조건-사용자 대화상자에서 아래와 같은 아크센싱 조건-엔지니어 대화상자가 나타납니다. 이 대화상자는 엔지니어만 편집할 수 있습니다.

<p align="center">
 <img src="../../_assets/8_2.png" width="70%"></img>
 <em><p align="center">그림 8.2 아크센싱 조건-고급 대화상자</p></em>
</p>


각 항목별 설정 및 조작방법은 다음과 같습니다.

(1) 상하 센싱 모드: <전류변화, 벽방향(CCW)고정, 타방향(CW)고정, 무효>  
    상하센싱을 수행하는 방법을 설정합니다.
-	전류변화: 센싱 초반 기준데이터 평균값을 기준으로 높이센싱을 수행
-	벽방향(CCW)고정, 타방향(CW)고정: 토치가 전진하는 방향으로 봤을 때 한 면이 고정되고 그 반대쪽 면에서만 변형이 발생하는 경우 좌우 보정량과 고정면의 관계에 따른 이동량으로 높이센싱을 수행
-	무효: 상하센싱이 필요하지 않거나 수행할 수 없는 평면 아크센싱인 경우 좌우센싱만 수행할 때 선택

(2) 초당 최대 보정거리(좌우/상하): [0.1 ~ 20.0] mm  
    1초동안 최대로 추종할 수 있는 거리를 설정합니다. 사용자 대화상자에서 10을 설정하는 경우 여기서 설정한 최대 보정거리로 추종을 수행하게 됩니다.

(3) 좌우/상하 궤적 이탈 제한: [0 ~ 200]  
    좌우/상하 방향 아크센싱 추종거리 제한치를 설정합니다. 아크센싱에 의해서 설정된 제한 거리 이상으로 추종이 발생하는 경우 에러로 정지합니다.

(4) 좌우 비대칭 센싱 비율: [-40 ~ 40] %  
    비드의 좌우폭이 다를 때 이를 감안하여 센싱하기 위한 비대칭 센싱 비율을 설정합니다.

(5) 비정상 데이터 처리방법: <에러, 경고, 무효>  
    센싱 동작 중 ‘비정상 판별 마진’으로 계산된 정상 전류의 범위를 ‘비정상 판별 시간’이상 초과한 경우 처리하는 방법입니다.  
- 에러: 로봇은 에러를 표시하고 정지합니다.
- 경고: 로봇은 경고를 표시하고 계속 작업을 진행합니다.
- 무효: 로봇은 그대로 작업을 계속 진행합니다.

(6) 비정상 판별 마진: [100 ~ 200] %  
    이전 5개의 데이터를 이용해서 비정상을 판단할 범위를 설정합니다.

(7) 비정상 판별 시간: [10 ~ 1000] ms  
    비정상 판별 마진을 벗어난 전류 입력을 허용할 시간을 설정합니다. 이 시간을 초과하여 마진을 벗어나는 경우 처리방법에 따라 로봇이 동작합니다.

(8) 궤적 이탈 감소: <무효, 유효>  
    센싱용 데이터가 비정상인 경우 해당 카운트의 보정량을 무시할 것인지 설정합니다. 이 옵션이 ‘유효’인 경우 데이터의 노이즈가 심하면 이전 보정량을 그대로 유지합니다.

(9) 스텝 전후진 시 보정거리 유지: <클리어, 유지>  
    아크센싱, 멀티패스 동작 구간에서 로봇을 스텝 전후진 시키는 경우 보정량을 유지할 것인지를 설정합니다. 클리어로 설정하는 경우 로봇 스텝 후진 시 아크센싱 보정량이 클리어 됩니다.

</br>

---

아크센싱 조건-엔지니어 대화상자에서 아래와 같은 Data 지연 및 추종 계수 테이블 대화상자가 나타납니다. 이 대화상자의 내용은 당사의 엔지니어링이 필요한 부분입니다. 



<p align="center">
 <img src="../../_assets/8_3.png" width="70%"></img>
 <em><p align="center">그림 8.3 아크센싱 조건-추종게인 대화상자</p></em>
</p>

<br>

아크센싱의 자세한 내용은 ‘아크센싱 기능설명서’ 매뉴얼을 참고하시기 바랍니다.
# 8.2	터치센싱 기능

터치센싱이란 작업물의 위치 및 용접시작점 혹은 용접끝점 검출을 위해 사용하는 기능입니다.

<p align="center">
 <img src="../../_assets/8_4.png" width="35%"></img>
 <em><p align="center">그림 8.4 터치센싱의 예</p></em>
</p>


작업물은 지그 또는 포지셔너의 오차, 작업물의 갭들이 다르기 때문에 항상 일정한 위치에 있다고 볼 수 없습니다. 이러한 경우 터치센싱을 이용해 용접 시작점과 용접 끝점을 검출하여 용접할 수 있습니다. 또는 터치센싱을 이용하여 기준 위치를 기록해 놓으면 작업물이 들어왔을 때 기준위치에서 얼만큼 쉬프트 되어있는지 계산할 수 있습니다. 이러한 쉬프트량이 자동으로 계산되어 보정되는 기능 또한 사용 가능합니다.
 터치센싱은 그림 8.5와 같이 총 8가지 타입 (필렛, VGroove, Butt, LRCen, 응용필렛1, 응용필렛 2, DetectGroove, Wall) 을 지원합니다. 

       
<p align="center">
 <img src="../../_assets/8_5.png" width="90%"></img>
 <em><p align="center">그림 8.5 터치센싱 타입</p></em>
</p>


터치센싱은 총 8개의 조건들이 존재하며 명령어에서 [quick open]을 누르면 그림 8.5와 같은 편집화면이 뜨고 탐색속도, 퇴피속도, 탐색거리, 진행거리, 오차보정량, 터치방식 등과 같은 조건들이 제어기에 저장됩니다. 


<p align="center">
 <img src="../../_assets/8_6.png" width="70%" ></img>
 <em><p align="center">그림 8.6 터치센싱 조건 편집화면</p></em>
</p>



터치센싱 명령은 T.P화면에서‘명령입력’-‘아크’-‘touchsen’을 입력하여 기록할 수 있습니다.

- 명령어 구성
   - ```touchsen``` cnd=조건번호, crd=좌표계, dir=[탐색방향1, 탐색방향2, 탐색방향3], pose=결과포즈 저장변수, gap=butt gap 변수
   - ```touchsen``` cnd=조건번호, crd=좌표계, dir=[탐색방향1, 탐색방향2, 탐색방향3], angle=탐색방향각도, pose=결과포즈 저장변수, gap=butt gap 변수
   - ```touchsen``` cnd=조건번호, crd=좌표계, dir=[탐색방향1, 탐색방향2, 탐색방향3], angle=탐색방향각도, mpose=결과포즈 저장변수, mshift=계산된시프트 변수, gap=butt gap 변수

   - ```touchsen``` cnd=1, crd="robot", dir=[+tx, +tz], lift_up=3, pose=P10, gap=var_gap
      - cnd=1		: 터치센싱 옵션번호 (ROBOT.TSC 파일의 조건에 해당하는 인덱스 번호)
      - crd="robot" : 터치센싱 좌표계
      - dir=[+tx, +tz]	: 탐색방향 파라미터 (직교, 포즈, 툴좌표, 툴프로젝션 입력 가능)
      - lift_up=3		: 바닥찍고 들어올릴 량 [mm] (Butt, V그루브), 탐지기준거리 (DetectGroove)
      - pose=P10		: 센싱하여 계산된 포즈가 저장될 포즈변수.
      - gap=var_gap 	: BUTT 작업물일 경우 gap이 저장될 변수 (소수점 첫째 자리에서 반올림됨)
      - [quick open] 키 	: 탐색속도, 퇴피속도, 탐색거리, 진행거리, 오차보정량, 터치방식(닿을 때, 땔 때) 지정가능

센싱방향은 작업물 타입에 따라 다음과 같이 지정할 수 있습니다.

- Fillet	: 베이스좌표방향, 포즈방향, 툴프로젝션 방향, +TZ 방향
- Butt 	: 포즈방향, 툴방향
- V Groove 	: 포즈방향, 툴방향
- LRCen 	: 툴방향
- DetectGroove: 툴방향, 툴프로젝션방향

<center>

|타입|	최대탐색 </br>방향개수 |	직교XYZ </br>모든타입 </br>지원예정	| 툴좌표계|	툴프로젝션</br>좌표계 |	포즈 |기타 입력인자|
|:---:|	:---: |	:---:	| :---:|	:---: |	:---: |:---:|
|Fillet|	3	|O|	O (1타점)|	O	|O|	후퇴거리|
|Butt	|2 |	X	|O	|X	|O	|오차보정량 |
|VGroove |	2 |	X |	O	|X	|O	| |
|LRCen |	1	|O |	O	|X |	X |  |	
|DetectGroove|	2 |	X |	O |	O |	X	| 진행거리1 </br> 후퇴거리1 |

</center>

1번 터치센싱조건 (명령어에서 [quick open]으로 사용자가 설정해놓은 조건들)에는 필렛, 2번 조건에는 버트, 3번 조건에는 V그루브로 작업물 타입이 지정되어있다고 가정할 때 예시는 아래와 같습니다. 

- 명령어 구성
  - ```touchsen``` cnd=1, crd="robot", dir=[tf,td], pose=P10      1번 조건, 툴프로젝션 방향, 2점 터치
  - ```touchsen``` cnd=1, crd="robot", dir=[+x,-y,-z], pose=P10     1번 조건, 베이스좌표 방향, 3점 터치
  - ```touchsen``` cnd=1, crd="robot", dir[+tz], pose=P10     1번 조건, +TZ방향, 1점 터치
  - ```touchsen``` cnd=2, crd="robot", dir=[+tx,+tz], lift_up=3, pose=P10, gap=var1  2번 조건, 툴좌표계 방향, 바닥터치 후3mm 상승
  - ```touchsen``` cnd=3, crd="robot", dir=[-ty,+tz], lift_up=3, pose=P10    3번 조건, 툴좌표계 방향


</br>

---
제공하는 터치센싱 방식 (작업물 타입)은 다음과 같습니다.

[1] Fillet 타입

<p align="center">
 <img src="../../_assets/8_7.png" width="60%"></img>
 <em><p align="center">그림 8.7 터치센싱 예 Fillet 타입</p></em>
</p>

- 명령어 구성
  - ```touchsen``` cnd=1, crd="robot", dir=[+x,-y, -z], pose=P10
  - ```touchsen``` cnd=1, crd="robot", dir=[tf, td], pose=P10
  - ```touchsen``` cnd=1, crd="robot", dir=[+tz], pose=P10


- 툴프로젝션방식 : 툴좌표계의 Z축을 베이스 XYZ평면에 사영시켜 전진, 좌우, 하강방향을 결정하는 방식으로 TF(전진), TD(하강), TL(좌), TR(우) 를 조합하여 사용합니다. TL은 TF*RotZ(90), TR은 TF*RotZ(-90) 방향입니다.
- 용접점이 너무 많아 포즈변수 관리가 어려울 경우 툴프로젝션 방식 (TPM)을 사용합니다.
- 작업물에 회전량(RX, RY, RZ)이 존재하는 틀어진 필렛의 경우 각도지정 옵션을 이용해 탐색방향을 변경할 수 있습니다.
- 1점 센싱은 탐색방향을 한 개만 지정하고 2점 센싱은 탐색방향을 순차적으로 2개 지정합니다. 


[2] V Groove 타입

<p align="center">
 <img src="../../_assets/8_8.png" width="70%"></img>
 <em><p align="center">그림 8.8 터치센싱 예 V Groove 타입</p></em>
</p>   




- 명령어 구성
    - ```touchsen``` cnd=3, crd="tool", dir=[-ty,+tz], lift_up=3, pose=P10    3번 조건, 툴좌표계 방향

- V그루브 타입은 V그루브 센싱에 사용할 수 있습니다. 단, 이때 툴의 위치와 방향은 위 그림과 유사하게 각의 2등분선 상에 위치해야 합니다.
- 센싱을 위한 상승량은 최소 3mm이상이 되는 것이 안정적입니다.


 
[3] BUTT 타입

<p align="center">
 <img src="../../_assets/8_9.png" width="30%"></img>
 <em><p align="center">그림 8.9 터치센싱 예 Butt 타입</p></em>
</p>   


- 명령어 구성
    - ```touchsen``` cnd=2, crd="tool", dir=[+tx,+tz], lift_up=3, pose=P10, gap=var_gap  2번 조건, 툴좌표계 방향, 바닥센싱 후3mm 상승

- BUTT 타입은 그림과 같이 바닥면에 수직이게 툴을 위치시키는 것이 중요합니다.  
- 센싱을 위한 바닥센싱 후 상승량은 최소 3mm이상이 되는 것이 안정적입니다.  
- 상승량에 따라서 Butt gap의 크기가 바뀔 수 있습니다. 이 경우에는 명령어의 Quick open에서 오차보정량을 입력하면 이 값을 뺀 값으로 butt gap을 계산할 수 있습니다.  

터치센싱의 진행방식은 다음과 같은 시퀀스로 진행됩니다.

필렛의 경우 4가지 옵션에 따라 직교방향, 포즈방향, 툴프로젝션방향, 툴좌표방향으로“전진->복귀” 를 반복하여 용접 시작점을 계산합니다. Butt나 V그루브의 경우 아래와 같은 형태로 센싱이 진행됩니다. (상 좌우센싱 → 바닥센싱 → 상승 → 하 좌우센싱)


<p align="center">
 <img src="../../_assets/8_10.png" width="40%"></img>
 <em><p align="center">그림 8.10 터치센싱 시퀀스 Butt 타입</p></em>
</p>   

V그루브와 Butt의 경우 하단 좌우센싱 중점에서 작업물 방향으로 내린 점이 계산된 포즈가 됩니다. DetectGroove의 경우 하단센싱→상승량만큼 상승→전진을 반복합니다. 사용자가 지정한 탐지기준보다 더 내려갈 경우 하단센싱중에 멈추게 되고 그 점이 찾은 포즈가 됩니다. 
터치센싱 명령어에서 퀵 오픈([quick open])을 누르면 해당 조건번호 TSC#에 대한 터치센싱 조건들을 편집할 수 있습니다. 

- 탐색거리 : 탐색방향에 대한 거리들이며 이 거리에 도달해도 작업물을 감지하지 못할 경우 에러가 발생합니다.  
- 탐색속도와 퇴피속도 : 탐색 또는 후퇴시 속도를 지정할 수 있습니다.  
- 오차보정량 : butt gap 보정시 사용됩니다.  
- 후퇴거리 : 필렛에선 처음 센싱 후 퇴피할 거리이고  DetectGroove 타입에서는 바닥을 찍고 들어올릴 거리입니다.  
- 센싱시점 : 접촉시와 접촉해제시를 지원합니다. 일반적으로 접촉시 센싱을 많이 사용하며 오차는 거의 없습니다. 만약 센싱시 와이어 휨에 의한 미세한 오차까지도 고려해 센싱해야 하는 상황에서만 후퇴시 센싱을 사용하십시오.  

각도지정옵션은 탐색방향에 대한 각도를 지정할 수 있습니다. 각도지정 옵션은 Fillet과 DetectGroove 타입에서 지원합니다. 각도지정은 TL축과 베이스 XYZ축 중 한가지 축으로 센싱각도만큼 센싱시퀀스 이동궤적을 모두 회전시킵니다. 
그림 8.18은 필렛과 DetectGroove작업물에서 Y축 또는 TL축으로 30도 회전한 예입니다.

<p align="center">
 <img src="../../_assets/8_11.png" width="300"></img>
 <em><p align="center">그림 8.11 터치센싱 예 각도설정</p></em>
</p>       

- 명령어 구성
    - ```touchsen``` cnd=1, crd="robot", dir=[+x,-z], angle=Y30, pose=P100
    - ```touchsen``` cnd=1, crd="robot", dir=[+x,-z], angle=TL30, pose=P100
    - ```touchsen``` cnd=2, crd="robot", dir=[td,tf], lift_up=5, angle=Y30, pose=P100
    - ```touchsen``` cnd=2, crd="robot", dir=[td,tf], angle=TL30, pose=P100 ‘DetectGroove

작업물 타입과 명령어에 지정된 센싱방향 지정좌표계에 따라 지정이 가능한 각도회전 축은 아래 표와 같습니다.

<center>

| 타입	| 센싱방향 </br> 지정좌표계	| 각도지정축|
|:---:|:---:|:---:|
|Fillet	| 모든 좌표계	| 직교 XYZ축 </br>TL축 |
|Detect Groove |	툴 |	불가능 |
|Detect Groove	|툴 프로젝션	|직교 XYZ축</br>TL축 |

</center>

Master/Execution Mode와 연동하는 터치센싱 사용법은 다음과 같습니다. 
Master 모드에선 사용자가 mpose 입력인자에 지정한 변수에 센싱한 포즈가 저장되며, Execution 모드에선 현재 센싱한 포즈를 Master 모드에서 센싱했던 포즈와 비교하여 쉬프트량을 계산하고 사용자가 mshift 입력인자에 지정한 변수에 시프트량이 기록됩니다.

- 명령어 구성
    - ```touchsen``` cnd=1, crd="robot", dir=[+x,-z], mpose=P10, mshift=sft_var1

위 명령어는 Master 모드에서 P10포즈변수에 센싱한 포즈가 저장되고 Execution 모드에서 센싱했을 때 Master 모드와의 시프트 양이 자동으로 계산되어 sft_var1변수에 저장됩니다.
# 8.3 높이센싱(Height Sensing) 기능

본 기능은 TIG 용접과 같이 로봇의 툴이 작업물에서 일정한 거리를 유지해야 하는 경우에 사용하는 기능입니다. TIG 용접의 경우에는 높이가 Arc길이와 비례하므로 AVC(Arc Voltage Control)기능이라고 합니다. 작업물과의 거리는 센서에 의한 아날로그 전압입력, 용접기에서 감지하는 Arc 길이 보정용 파라미터, 용접 전류나 전압 값에 의해 조정됩니다.

본 기능의 사용을 위해서는 센싱 기능을 위한 데이터 입력 설정을 ‘유효’로 선택해야 합니다.
센싱 기능을 위한 데이터 입력 설정의 세부 내용은 ‘1.3 Arc 용접 응용 조건 설정’을 참고하여 주십시오.

센싱 기능용 입력데이터의 설정이 완료된 후에는 하기와 같은 절차를 통하여 높이센싱 기능을 사용할 수 있습니다.

(1)	명령어 입력

높이센싱 시작을 위해서 heightsen on, cnd=1 명령을 사용합니다. 명령어에는 뒤에는 조건번호를 입력합니다. 높이센싱 조건은 총 8개가 있습니다.
높이센싱 종료를 위해서 heightsen off 명령을 사용합니다. 종료 명령어는 특별히 인수를 필요로 하지 않습니다.

높이센싱용 명령어가 입력된 작업프로그램의 예시는 다음과 같습니다.

    S1   move L,spd=100%,accu=1,tool=0
    S2   move L,spd=20%,accu=1,tool=0
    S3   move L,spd=100mm/s,accu=1,tool=0
         heightsen on, cnd=1		  # 높이센싱 시작
         arcon cnd=2		       # Arc 용접 시작
    S4   move L,spd=10mm/s,accu=1,tool=0
         arcoff			       # Arc 용접 종료
         heigghtsen off			  # 높이센싱 종료
    S5   move L,spd=20%,accu=1,tool=0
         END 

(2)	높이센싱기능 동작순서

높이센싱은 명령어 실행 후 ```arcon``` 명령어가 실행되면 동작하기 시작합니다. 일반적으로 용접 초기에는 전류, 전압이 안정화되지 않은 상태이므로 안정화 될 때까지는 입력데이터를 무시합니다. 이후 입력데이터가 안정화되면 기준데이터 설정방식에 따라 평균을 계산합니다. 사용자가 기준데이터를 입력하는 방식인 경우는 바로 높이센싱을 수행하게 됩니다.

 
높이센싱의 동작 순서는 다음과 같습니다.

 
<p align="center">
 <img src="../../_assets/8_12.png" width="40%"></img>
 <em><p align="center">그림 8.12 높이센싱 기능 동작 순서</p></em>
</p>

# 8.3.1 높이센싱 조건

```heightsen on,cnd= ``` 명령어에서 [quick open] 키를 눌러 『높이센싱 조건』설정화면으로 진입합니다. 조건설정 화면은 아래 그림과 같습니다.

 
그림 8.13 높이센싱 조건 대화상자 (평균 입력 데이터)

<p align="center">
 <img src="../../_assets/8_13.png" width="70%"></img>
 <em><p align="center">8.13 높이센싱 조건 대화상자</p></em>
</p>

---

각 항목별 설정 및 조작방법은 다음과 같습니다.

(1)	조건번호: [1 ~ 8]  
    높이센싱 조건번호를 설정합니다.

(2)	높이 센싱 용 입력데이터 종류  
    입력데이터 종류를 표시합니다. GMAW 는 용접 전류를 TIG 용접은 용접 전압을 사용합니다.

(3)	기준 데이터 설정 방법: <평균 입력 데이터, 사용자 입력 데이터>  
    기준 데이터를 설정하는 방법을 선택합니다.
-	평균 입력 데이터: 센싱 초반 기준데이터 평균값을 기준으로 설정
-	사용자 입력데이터: 사용자가 기준데이터를 직접 입력

(4)	입력 데이터 무시 시간: [0.0 ~ 5.0]  
    용접 초기의 불안정한 상태에서 입력 신호를 무시하는 시간입니다. ‘평균 입력 데이터’로 기준데이터를 설정하는 경우 이 시간 지정된 시간동안 평균값으로 기준값을 계산합니다. ‘사용자 입력 데이터’를 기준으로 사용하는 경우 바로 높이센싱이 동작합니다.

(5)	입력 데이터 평균시간: [0.5 ~ 10.0]  
    센싱 기준 데이터를 계산하기 위해 입력 데이터 평균을 계산하는 시간을 설정합니다. 기준 데이터 설정 방법에서 ‘평균 입력 데이터’를 선택하는 경우 표시됩니다. 정확한 기준 높이 산정이 안 되어 있는 경우

(6)	입력 데이터 무시 시간: [0.0 ~ 5.0]  
    용접 초기의 불안정한 상태에서 입력 신호를 무시하는 시간입니다. ‘평균 입력 데이터’로 기준데이터를 설정하는 경우 이 항목이 표시됩니다. 이 시간 지정된 시간동안 평균값으로 기준값을 계산합니다. 

(7)	기준 데이터 설정: [-500.0 ~ 500.0]  
    높이센싱의 기준값을 사용자가 직접 입력하는 항목입니다. ‘사용자 입력 데이터’로 기준데이터를 설정하는 경우 이 항목이 표시됩니다.

(8)	높이 센싱 계수: [-100.0 ~ 100.0]  
    입력된 데이터 차이에 대비되는 거리 계수입니다. 이 값이 작아지면 입력 데이터에 따른 추종량이 작아져서 부드럽게 추종합니다. 이 값이 커지면 추종이 빨라지지만 궤적 상 상하 진동이 발생할 수 있습니다.

(9)	센싱에 의한 추종속도 제한값: [0.1 ~ 10.0]  
    1초동안 센싱으로 추종하는 최대값을 설정합니다. 이 값이 작아지면 추종이 부드러워지며 커지면 추종이 빨라집니다.

(10) 노이즈 민감도  
    입력 데이터의 노이즈에 대한 민감도를 설정합니다. 비활성화 되어 있는 경우 지원하지 않는 버전입니다.

(11) 추종오차 적분 계수: [0.0 ~ 10.0]
    높이 센싱의 추종 성능 중 지속적인 에러값에 대한 보정량을 설정합니다. 0보다 큰 값이 설정되면 추종 성능이 향상되지만 지나치게 커지면 궤적 진동이 발생합니다. 아주 작은 값부터 적용하여 현장에 적정한 값을 선정하십시오.

(12) 초기 기준 데이터: [-500.0 ~ 500.0]
    용접 초반에 별도의 기준 데이터를 적용하려고 할 때 설정합니다. 입력 데이터 무시 시간이 지난 후 ‘초기설정된 시기준 데이터 적용 시간’에서 설정된 시간동안 이 기준 데이터를 이용하여 높이 센싱이 수행됩니다.

(13) 초기 기준 데이터 적용 시간: [0.0 ~ 10.0]  
    초기 기준 데이터로 높이 센싱을 수행할 시간을 설정합니다. 이 시간이 지난 후에는 ‘기준 데이터 설정’ 항목에서 입력한 데이터로 높이센싱이 수행됩니다.

(14) 입력 데이터 평균 시간: [0.5 ~ 10.0]  
    기준데이터 설정방법이 Average input data(입력데이터 평균)인 경우 표시되는 항목입니다. 입력 무시시간이 지난 후 기준데이터 계산을 위해 입력데이터를 평균하는 시간입니다.

(15) 기준 데이터 설정: [-500 ~ 500]  
    기준데이터 설정방법이 User input data(사용자 입력데이터)인 경우 표시되는 항목입니다. 입력 무시시간이 지난 후 기준데이터 계산을 위해 입력데이터를 평균하는 시간입니다.

(16) 높이 센싱 계수: [-100.0 ~ 100.0]  
    데이터 추종량을 계산하는데 사용하는 센싱 계수를 설정합니다. 이 값이 크면 보정할 거리가 증가하므로 추종 속도가 증가하고 진동이 발생할 수 있습니다. 이 값이 작으면 추종 속도가 감소하지만 진동이 작아집니다. 
    이 값이 0으로 설정되면 높이센싱기능이 동작하지만 위치추종은 수행하지 않고 데이터만 입력 받습니다. 센싱을 위한 기준데이터를 얻기 위한 경우 사용하십시오.

(17) 센싱에 의한 추종속도 제한치: [0.001 ~ 5.0]  
    초당 추종 거리 제한치를 설정합니다. 이 값은 로봇의 급격한 추종을 제한하기 위하여 설정합니다. 이 값이 크면 추종 속도가 증가하고 진동이 발생할 수 있습니다. 이 값이 작으면 로봇의 추종가능 거리가 감소하지만 진동이 작아집니다. 

(18) 높이 센싱 범위: [-300.0 ~ 0.0], [0.0 ~ 200.0]  
    높이센싱의 총 추종거리 제한치를 설정합니다.
# 8.4 LVS(Laser Vision Sensor) 용접선 추적 및 검출 기능

본 기능은 LVS로 용접선을 인식하여 환경에 따라 변경된 용접선을 검출하고 추적하여 안정적인 용접 품질을 제공합니다. LVS는 로봇의 토치 부근에 설치되어 용접하고자 하는 대상을 인식하고, 해당 정보를 로봇에 보냅니다. 로봇은 해당 정보를 이용하여 로봇의 툴 끝을 인식된 위치로 이동시킵니다. 그래서 용접 대상물의 위치가 변하여 기존 교시점에서 용접이 불가능할 경우에도 용접 시작점으로 로봇의 툴 끝을 이동시켜 정확하게 용접을 시작할 수 있습니다.
또한 용접 중에도 LVS는 지속적으로 용접선을 인식하고, 인식한 용접선 정보를 로봇으로 보내 로봇이 용접선을 따라 정확하게 용접할 수 있도록 합니다. 본 기능은 용접 대상물의 위치 변화가 빈번하거나 용접선이 균일하지 않을 경우에도 안정적인 용접 품질을 얻을 수 있습니다.

<p align="center">
 <img src="../../_assets/8_14.png" width="90%"></img>
 <em><p align="center">그림 8.14 LVS 용접선 추적 데이터 흐름도</p></em>
</p>

</br>

LVS 용접선 추적 및 검출 기능은 ```lvs``` 명령어로 사용할 수 있습니다. 기능의 환경 설정 및 세부사항은 ‘LVS 용접선 추적 및 검출 기능설명서’를 참고하시기 바랍니다. 본 기능은 엔지니어의 도움을 필요로 하는 옵션 기능으로 사용을 위해서는 당사에 문의하시기 바랍니다.

<p align="center">
 <img src="../../_assets/8_15.png" width="90%"></img>
 <em><p align="center">그림 8.15 LVS 용접선 추적을 위한 명령어 실행</p></em>
</p># 8.5 STITCH 기능# 8.5.1  STITCH 기능 개요
 
스티치 용접을 바느질 하는 것 처럼 띄엄띄엄 용접하는 기능입니다. 그림 8.17 시편에 시작점과 종료점을 설정하여 스티치 용접을 한 모습입니다. 스티치 용접에서 그림 8.16과 같이 파라미터 a와 b를 설정하여 용접구간과 비용접 구간의 길이를 설정하여 스티치 패턴의 용접을 진행합니다.
그림 8.18에서 간단하게 스티치 용접의 프로세스를 설명 합니다. P[1]위치에서 P[4] 위치까지 위치를 기록합니다. 이 그림에서는 P[2]와 P[3] 구간에서 스티치 용접을 진행하며 사용 명령어로 ```stitch on/off```와 ```arcon/arcoff``` 명령어를 사용하였습니다.

</br>

<p align="center">
 <img src="../../_assets/8_16.png" width="40%"></img>
 <em><p align="center">그림 8.16 스티치 기능 기본 파라미터</p></em>
</p> 

</br>



<p align="center">
 <img src="../../_assets/8_17.png" width="50%"></img>
 <em><p align="center">그림 8.17 스티치 용접 시험 시편</p></em>
</p> 
 
</br>


<p align="center">
 <img src="../../_assets/8_18.png" width="60%"></img>
 <em><p align="center">그림 8.18 스티치 용접 프로세스</p></em>
</p> 










 





# 8.5.2 stitch 명령어 작성 
 

<p align="center">
 <img src="../../_assets/8_19.png" width="60%"></img>
 <em><p align="center">그림 8.19 스티치 명령어 작성 예시</p></em>
</p>  


```stitch``` 명령어 입력
1.	명령입력 → 2. 아크 → 3. stitch (onf/off 선택 후 ENTER[YES] 버튼 클릭)


{% hint style="warning" %}
[**주의**]  
- ```S3 move L, spd=10mm/s, accu=3, tool=1```  
	 - L : 반드시 직선 보간을 선택  
	 - 10mm/s : 용접 속도, Stitch 용접의 ON 구간에서 속도, 반드시 단위를 mm/s로 선택
- ```arcon / arcoff``` 명령어 함께 사용 → 용접 
{% endhint %}# 8.5.3 stitch 기능 Prameter 설정


<p align="center">
 <img src="../../_assets/8_20.png" width="80%"></img>
 <em><p align="center">그림 8.20 스티치 용접 과정에 따른 Profile</p></em>
</p>



그림 8.21은 ```stitch``` 명령어에서 [quick open] 버튼을 눌러서 접근하는 화면이고, 그림 8.22은 그림 8.21화면에서 '구분' 버튼으로 접근합니다. 그림 8.23은 Job 프로그램 화면입니다.
그림 8.21 – 8.22 의 파라미터에 대한 설명은 다음과 같습니다.

- 조건 번호 : Shift + 방향키로 선택  
- 설명 : 소프트 키보드로 입력
  - (1) On 신호 지연 시간 : 용접 신호가 미리 켜지는 시간
  - (2) Off 신호 지연 시간 : 용접 신호가 미리 꺼지는 시간
  - (3) STITCH 준비 거리 : Stitch 시작 전 On구간 속도 진입 구간 길이
  - (4) ON 속력 : 용접 구간 용접 속력
  - (5) OFF 속력 : 비용접 구간 용접 속력
  - (6) Section : Stitch 용접 조건  
Ex) section1 조건의 stitch 용접이 해당 count만큼 진행되면 section2의 조건에 해당하는 stitch 용접이 진행
  - (7) ON_dst : 용접 구간 길이
  - (8) OFF_dst : 비용접 구간 길이
  - (9) Count : Stitch 용접 횟수
Stitch Enable/Equipment Enable/Equipment Output
→ 3가지 파라미터에 1이 입력되어야 playback에서 stitch 용접이 진행됨



{% hint style="warning" %}
[**주의**]  
- (4) ON 속력 : Stitch 구간에서 용접(ON) 구간의 속도 설정은 스텝 속도로 지정
- (7) ON_dst, (8) OFF_dst, (9) Count 모두 입력 되어야 section2의 조건을 입력할 수 있음
- (10) STITCH enable Port, (11) Equipment enable Port, (12) Equipment Output Port 모두 1을 입력해야 playback에서 stitch 용접이 됨. 그렇지 않을 경우 stitch 모션만 진행됨(용접X)

{% endhint %}

<p align="center">
 <img src="../../_assets/8_21.png" width="70%"></img>
 <em><p align="center">그림 8.21 스티치 용접 Parameter 설정1</p></em>
</p>

<p align="center">
 <img src="../../_assets/8_22.png" width="70%"></img>
 <em><p align="center">그림 8.22 스티치 용접 Parameter 설정3</p></em>
</p>

<p align="center">
 <img src="../../_assets/8_23.png" width="40%"></img>
 <em><p align="center">그림 8.23 스티치 용접 Parameter 설정2</p></em>
</p>
 

# 8.5.4 STITCH 기능 부가 사양

- **비상정지, 재기동**  
Stitch 용접 진행 중, 비상정지나 playback 정지 후 재기동이 되지만 제어기 전원차단 후 재부팅하면 Stitch 재기동 안됨
